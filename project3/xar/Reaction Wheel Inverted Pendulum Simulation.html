

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reaction Wheel Inverted Pendulum - Simulation and Parameter Tuning &mdash; oficina3  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            oficina3
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/readme.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Teoria</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../teoria/readme.html">Teoria</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projeto 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../project1/readme.html">Aeropendulum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projeto 2</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../project2/readme.html">Zumo-32U4</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project 3</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">COIL Project: Inverted Pendulum with Reaction Wheel</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Exercises</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../exercises/readme.html">Exercises</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../resources/readme.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/readme.html">Aeropendulum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Demos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../demos/prototypes.html">Prototypes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">oficina3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Reaction Wheel Inverted Pendulum - Simulation and Parameter Tuning</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/project3/xar/Reaction Wheel Inverted Pendulum Simulation.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>References:</p>
<p><a class="reference external" href="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum">https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum</a></p>
<p><a class="reference external" href="https://github.com/calcmogul/controls-engineering-in-frc">https://github.com/calcmogul/controls-engineering-in-frc</a></p>
<section id="Reaction-Wheel-Inverted-Pendulum---Simulation-and-Parameter-Tuning">
<h1>Reaction Wheel Inverted Pendulum - Simulation and Parameter Tuning<a class="headerlink" href="#Reaction-Wheel-Inverted-Pendulum---Simulation-and-Parameter-Tuning" title="Link to this heading"></a></h1>
<section id="Overview">
<h2>Overview<a class="headerlink" href="#Overview" title="Link to this heading"></a></h2>
<p>The Reaction Wheel Inverted Pendulum is a complex system that combines a pendulum with a reaction wheel, this simulation implements Bang-bang controller to breing the pendulum up, then use LQR to keep it stable.</p>
<section id="Features">
<h3>Features<a class="headerlink" href="#Features" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong>LQR Controller:</strong> Stabilize the system using a Linear Quadratic Regulator (LQR) controller.</p></li>
<li><p><strong>PID Controller:</strong> Stabilize the system by PID controller (Choose 1 Stabilize controller in <code class="docutils literal notranslate"><span class="pre">param.py</span></code>).</p></li>
<li><p><strong>Bang-Bang controller:</strong> Implement a Bang-bang controller as a swing-up controller to bring the pendulum upright.</p></li>
<li><p><strong>Realistic Dynamics:</strong> The simulation incorporates realistic dynamics and parameters of a DC motor and an inverted pendulum.</p></li>
</ul>
</section>
</section>
<section id="Getting-Started">
<h2>Getting Started<a class="headerlink" href="#Getting-Started" title="Link to this heading"></a></h2>
<section id="Prerequisites">
<h3>Prerequisites<a class="headerlink" href="#Prerequisites" title="Link to this heading"></a></h3>
<p>Ensure you have the following dependencies installed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">numpy</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pygame</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PyQt5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pygetwindow</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pyaudio</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">threading</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">control</span></code> (install via <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">control</span></code>)</p></li>
</ul>
</section>
<section id="Installation">
<h3>Installation<a class="headerlink" href="#Installation" title="Link to this heading"></a></h3>
<p>Clone the repository and install the dependencies:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum.git
<span class="nb">cd</span><span class="w"> </span>Reaction-wheel-inverted-pendulum
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
</section>
</section>
<section id="Usage">
<h2>Usage<a class="headerlink" href="#Usage" title="Link to this heading"></a></h2>
<p><img alt="Image of the program" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/47713359/e2ff45d4-bfb2-4831-9ec9-334b88f8ff77" /></p>
<p><strong>Inject</strong> - Type the amount of torque into the box and click <code class="docutils literal notranslate"><span class="pre">INJECT</span></code> or ENTER key to inject a disturbance to the system</p>
<p><strong>Reset</strong> - Click <code class="docutils literal notranslate"><span class="pre">RESET</span></code> to reset the system</p>
<p><strong>Plotting</strong> - Click on the pendulum plot or the plot window to plot the data</p>
<p>Edit the parameters in <code class="docutils literal notranslate"><span class="pre">param.py</span></code></p>
</section>
<section id="Methodology">
<h2>Methodology<a class="headerlink" href="#Methodology" title="Link to this heading"></a></h2>
<section id="System-Modeling">
<h3>System Modeling<a class="headerlink" href="#System-Modeling" title="Link to this heading"></a></h3>
<p>The simulation involves modeling the dynamics of a Reaction Wheel Inverted Pendulum (RWIP) system. The key components include:</p>
<p><strong>Reaction Wheel Inverted Pendulum Dynamics</strong></p>
<p><img alt="02f418d17cd3474ab5b6ce03eb805b47" class="no-scaled-link" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/6c59b7a7-6aa7-4a73-b353-9e242e6aae1c" style="width: 480px;" /></p>
<section id="RWIP-Parameter">
<h4>RWIP Parameter<a class="headerlink" href="#RWIP-Parameter" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">L1</span></code> - Pendulum length from orgin to center of mass</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L2</span></code> - Pendulum length</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m1</span></code> - Mass of pendulum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m2</span></code> - Mass of fly wheel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">θp</span></code> - Angle of pendulum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">θr</span></code> - Angle of fly wheel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I1</span></code> - Inertia moment of pendulum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I2</span></code> - Inertia moment fly wheel and Innertia moment of motor</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">g</span></code> - Gravitational acceleration</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tm</span></code> - Torque apply by DC motor</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Td</span></code> - Disturbance</p></li>
</ul>
</section>
<section id="Newton-method">
<h4>Newton method<a class="headerlink" href="#Newton-method" title="Link to this heading"></a></h4>
<p>tbd</p>
</section>
<section id="Lagrange-Method">
<h4>Lagrange Method<a class="headerlink" href="#Lagrange-Method" title="Link to this heading"></a></h4>
<p>  <span class="math notranslate nohighlight">\(\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{θ_r}} \right) - \frac{\partial L}{\partial θ_r} = 0\)</span>    and</p>
<p>  <span class="math notranslate nohighlight">\(\frac{d}{dt} \left( \frac{\partial L}{\partial \dot{θ_p}} \right) - \frac{\partial L}{\partial θ_p} = T_m\)</span></p>
<p>  Where Lagrangian (L) is</p>
<p>  <span class="math notranslate nohighlight">\(L = K - V\)</span></p>
</section>
<section id="Kinetic-Energy">
<h4>Kinetic Energy<a class="headerlink" href="#Kinetic-Energy" title="Link to this heading"></a></h4>
<p>  <span class="math notranslate nohighlight">\(K = \frac{1}{2}(m_{1}L_{1}^{2}+m_{2}L_{2}^{2}+I_{1})\dot{θ_p}^{2} + \frac{1}{2}I_{2}(\dot{θ_p}+\dot{θ_r})^{2}\)</span></p>
<p>  <span class="math notranslate nohighlight">\(K = \frac{1}{2}(m_{1}L_{1}^{2}+m_{2}L_{2}^{2}+I_{1}+I_{2})\dot{θ_p}^{2} + I_{2}\dot{θ_p}\dot{θ_r} + \frac{1}{2}I_{2}\dot{θ_r}^{2}\)</span></p>
</section>
<section id="Potential-Energy">
<h4>Potential Energy<a class="headerlink" href="#Potential-Energy" title="Link to this heading"></a></h4>
<p>  <span class="math notranslate nohighlight">\(V = (m_1L + m_2L)g\cosθ_p\)</span></p>
</section>
<section id="Mathematical-equations-of-RWIP-is-described-as">
<h4>Mathematical equations of RWIP is described as<a class="headerlink" href="#Mathematical-equations-of-RWIP-is-described-as" title="Link to this heading"></a></h4>
<p>  <span class="math notranslate nohighlight">\(\ddot{\theta_p} = \frac{m_{1}gL_{1}\sin\left(\theta_{p}\right)\ +\ m_{2}gL_{2}\sin\left(\theta_{p}\right)\ -\ T_{m} +\ T_{d}}{m_{1}L_{1}^{2}+m_{2}L_{2}+I_{1}}\)</span></p>
<p>  <span class="math notranslate nohighlight">\(\ddot{\theta_r} = \frac{T_{r}}{I_{2}}\-\frac{m_{1}gL_{1}\ +\ m_{2}gL_{2}\ -\ T_{m} +\ T_{d}}{m_{1}L_{1}^{2}+m_{2}L_{2}+I_{1}}\)</span></p>
<p><strong>DC Motor Dynamics</strong></p>
<p><img alt="fb6b48acba56479180f44a254f9a48d3" class="no-scaled-link" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/482f83f0-a4d7-4a70-b65e-006408f06a36" style="width: 480px;" /></p>
</section>
<section id="Brushed-DC-Motor-Parameter">
<h4>Brushed DC Motor Parameter<a class="headerlink" href="#Brushed-DC-Motor-Parameter" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Vin</span></code> - Input Voltage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code> - Motor resistance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code> - Motor inductance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> - Motor current</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">B</span></code> - Motor damped</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code> - Motor rotor Innertia</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ke</span></code> - Back EMF constant</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kt</span></code> - Torque constant</p></li>
</ul>
</section>
<section id="Electrical-part">
<h4>Electrical part<a class="headerlink" href="#Electrical-part" title="Link to this heading"></a></h4>
<p>  <span class="math notranslate nohighlight">\(Vin = R i + L \frac{di}{dt} + k_e θ_r\)</span></p>
</section>
<section id="Mechanical-Part">
<h4>Mechanical Part<a class="headerlink" href="#Mechanical-Part" title="Link to this heading"></a></h4>
<p>  <span class="math notranslate nohighlight">\(T_{m} = Bθ_r + J\frac{\dot{θ_r}}{dt}\)</span></p>
<p>  <span class="math notranslate nohighlight">\(T_{m} = k_t i\)</span></p>
</section>
</section>
<section id="Controllers">
<h3>Controllers<a class="headerlink" href="#Controllers" title="Link to this heading"></a></h3>
<ul>
<li><p><strong>LQR Controller</strong>: A linear quadratic regulator designed to stabilize the pendulum in the upright position.</p>
<p>#### Linearization dynamics model ####</p>
<ul>
<li><p><strong>Part RWIP</strong></p>
<p>when sinθp -&gt; 0 sinθp = θp</p>
</li>
</ul>
<p>    <span class="math notranslate nohighlight">\(\ddot{\theta_p} = \frac{m_{1}gL_{1}\theta_{p}\ +\ m_{2}gL_{2}\theta_{p}\ -\ T_{m} +\ T_{d}}{m_{1}L_{1}^{2}+m_{2}L_{2}+I_{1}}\)</span></p>
<p>    <span class="math notranslate nohighlight">\(\ddot{\theta_r} = \frac{T_{m}}{I_{2}}\-\frac{m_{1}gL_{1}\ +\ m_{2}gL_{2}\ -\ T_{m} +\ T_{d}}{m_{1}L_{1}^{2}+m_{2}L_{2}+I_{1}}\)</span></p>
<ul class="simple">
<li><p><strong>Part Motor</strong></p></li>
</ul>
<p>   We can estimate that L &lt;&lt; R</p>
<p>    <span class="math notranslate nohighlight">\(Vin = R i + k_e θ_r\)</span></p>
<p>    <span class="math notranslate nohighlight">\(T_{m} = k_t i\)</span></p>
<p>#### State space ####</p>
<p>The proceeding equations are valid around the operating point where θp = 0</p>
</li>
</ul>
<p>      <img alt="Matrix" src="https://latex.codecogs.com/svg.image?%5Cbegin%7Bbmatrix%7D%5Cdot%7B%5Ctheta_p%7D%5C%5C%5Cddot%7B%5Ctheta_p%7D%5C%5C%5Cdot%7B%5Ctheta_r%7D%5C%5C%5Cddot%7B%5Ctheta_r%7D%5Cend%7Bbmatrix%7D=%5Cbegin%7Bbmatrix%7D0&amp;1&amp;0&amp;0%5C%5C%5Cfrac%7B(m_1L_1+m_2L_2)g%7D%7Bm_1L_1%5E%7B2%7D+m_2L_2%5E%7B2%7D+J%7D&amp;0&amp;0&amp;%5Cfrac%7Bk_tk_e%7D%7B(m_1L_1%5E%7B2%7D+m_2L_2%5E%7B2%7D+J)R%7D%5C%5C0&amp;0&amp;0&amp;1%5C%5C-%5Cfrac%7B(m_1L_1+m_2L_2)g%7D%7Bm_1L_1%5E%7B2%7D+m_2L_2%5E%7B2%7D+J%7D&amp;0&amp;0&amp;-(%5Cfrac%7Bm_1L_1%5E%7B2%7D+m_2L_2%5E%7B2%7D+2J%7D%7B(m_1L_1%5E%7B2%7D+m_2L_2%5E%7B2%7D+J)J%7D)(%5Cfrac%7Bk_tk_e%7D%7BR%7D)%5C%5C%5Cend%7Bbmatrix%7D%5Cbegin%7Bbmatrix%7D%5Ctheta_p%5C%5C%5Cdot%7B%5Ctheta_p%7D%5C%5C%5Ctheta_r%5C%5C%5Cdot%7B%5Ctheta_r%7D%5Cend%7Bbmatrix%7D+%5Cbegin%7Bbmatrix%7D0%5C%5C%5Cfrac%7Bk_t%7D%7B(m_1L_1%5E%7B2%7D+m_2L_2%5E%7B2%7D+J)R%7D%5C%5C0%5C%5C(%5Cfrac%7Bm_1L_1%5E%7B2%7D+m_2L_2%5E%7B2%7D+2J%7D%7B(m_1L_1%5E%7B2%7D+m_2L_2%5E%7B2%7D+J)J%7D)(%5Cfrac%7Bkt%7D%7BR%7D)%5Cend%7Bbmatrix%7DV_%7Bin%7D" /></p>
<ul>
<li><p><strong>PID Controller</strong>: The stabilize controller to compare with LQR #### Transfer function ####</p>
<p>    <span class="math notranslate nohighlight">\(\Large\frac{\theta_{p}(s)}{\tau_{m}(s)}=\frac{\frac{s}{-J-m_{2}L_{2}^{2}}}{s^{3}+\left(\frac{B}{I_{1}}+\frac{B+d_{p}}{J+m_{2}L_{2}^{2}}\right)s^{2}-\left(\frac{\left(m_{1}L_{1}+m_{2}L_{2}\right)g}{\left(J+m_{2}L_{2}^{2}\right)I_{1}}-\frac{B\cdot d_{p}}{\left(J+m_{2}L_{2}^{2}\right)I_{1}}\right)s-\frac{\left(m_{1}L_{1}+m_{2}L_{2}\right)Bg}{\left(J+m_{2}L_{2}^{2}\right)I_{1}}}\)</span></p>
<p class="rubric" id="root-locus-design">Root Locus Design</p>
<p>To predict the system’s characteristics as the gain (Kp) is adjusted and poles move, design the root locus.</p>
<p>    <img alt="image" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/76fc37ed-f049-4606-9711-ea4dd4a56246" /></p>
<p>Root Locus of the system by default parameter set. It has one zero (s = 0), and three poles (s = -74.93; s =-3.88e-3; s = 73.53).</p>
<p class="rubric" id="closed-loop-root-locus">Closed Loop Root Locus</p>
<p>    <img alt="image1" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/31d1765a-d515-48da-8024-f94bcc96d6e3" /></p>
<p>  Where G(s) is Kp the gain can be adjusted ti make the closed loop poles to be in stable location The resultant Root Locus can be seen below (note to plot this graph in <code class="docutils literal notranslate"><span class="pre">param.py</span></code> you need to set <code class="docutils literal notranslate"><span class="pre">Stabilize_Controller</span></code> to “PID” mode and set <code class="docutils literal notranslate"><span class="pre">plot_rootlocus</span></code> to “True”) in this graph you can click pole position you want to know Gain <code class="docutils literal notranslate"><span class="pre">Kp</span></code> to adjust your system characteristics.</p>
<p>   <img alt="image2" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/692a1848-401b-4212-887d-eaeb9cc49548" /></p>
</li>
<li><p><strong>Bang-bang Controller</strong>: The swing up control routine and the stabilizing control routine are switched between -25 to 25 degree</p></li>
</ul>
<p>   <img alt="7c9275c96af04a4399dac675c5453340" class="no-scaled-link" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/79e6d6d3-9ab2-49eb-a58b-3ad10a96a96b" style="width: 480px;" /></p>
<ul class="simple">
<li><p><strong>Brake Controller</strong>: Used as reduced energy of RWIP when RWIP have too much energy for stabilze ### Sound Generation</p></li>
</ul>
<p>        The simulation incorporates sound generation related to the speed of the reaction wheel. This feature adds an auditory element to the simulation, enhancing the user experience.</p>
</section>
</section>
<section id="Compare-PID-controller-and-LQR-controller">
<h2>Compare PID controller and LQR controller<a class="headerlink" href="#Compare-PID-controller-and-LQR-controller" title="Link to this heading"></a></h2>
<p>In this project, we explore and compare the performance of two different control strategies: PID (Proportional-Integral-Derivative) controller and LQR (Linear Quadratic Regulator) controller. <img alt="image3" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/714b7756-ad1f-469a-944b-afa281b2bc5b" /></p>
<p><strong>Linear quadratic regulator</strong></p>
<p><img alt="CodeCogsEqn" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/8ce60949-f467-4ec1-8616-7e2be18518ba" /> | Error (deg) | settling time (s) | Power (Watt) | | — | — | — | | 5 | 0.66 | 0.6| | 6 | 0.73| 1.01 | | 7 | 0.85|1.75| | 8 | 1.07| 3.5| | 9 | can’t stabilize | can’t stabilize |</p>
<p>Max Disturbance : <strong>9.32 Nm</strong></p>
<p><strong>PID :</strong> Kp = 500 (choose form root locus) | Error (deg) | settling time (s) | Power (Watt) | | — | — | — | | 5 | 20.43| 10.06| | 6 | 21.02| 12.17 | | 7 | 21.37| 13.95 | | 8 | 21.59| 15.96 | | 9 | can’t stabilize | can’t stabilize |</p>
<p>Max Disturbance : <strong>8.05 Nm</strong></p>
<p><strong>PID :</strong> Kp = 215800 (choose form root locus) <img alt="image4" src="https://github.com/B-Paweekorn/Reaction-wheel-inverted-pendulum/assets/122732439/2ecb7281-f6db-4a19-8914-fedf1de1eda6" /> <strong>Notice</strong> that when choose unstable pole the system still stable because now it have <strong>hardware limit</strong> so the character of controller same like Fuzzy logic control to see unstable you need to unlock hardware limitation by set <code class="docutils literal notranslate"><span class="pre">MotorLimit</span></code> to <strong>False</strong> in <code class="docutils literal notranslate"><span class="pre">param.py</span></code></p>
<section id="Conclusion">
<h3>Conclusion<a class="headerlink" href="#Conclusion" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Stabilize boundary</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>LQR</strong></p></td>
<td><p>Can stabilize in every position</p></td>
</tr>
<tr class="row-odd"><td><p><strong>PID</strong></p></td>
<td><p>Can stabilize only in small boundary</p></td>
</tr>
</tbody>
</table>
<p><strong>PID Controller</strong> The PID controller is a widely used feedback control system that relies on three components: Proportional, Integral, and Derivative. Here’s a brief overview of each component:</p>
<ul class="simple">
<li><p>Proportional (P): Reacts to the current error.</p></li>
<li><p>Integral (I): Reacts to the accumulation of past errors.</p></li>
<li><p>Derivative (D): Predicts future errors based on the rate of change.</p></li>
</ul>
<p><strong>Advantages of PID:</strong></p>
<ul class="simple">
<li><p>Simplicity and ease of implementation.</p></li>
<li><p>Effectiveness in a wide range of systems.</p></li>
<li><p>Intuitive tuning parameters for performance optimization.</p></li>
</ul>
<p><strong>Considerations:</strong></p>
<ul class="simple">
<li><p>Tuning may be required for optimal performance in different systems.</p></li>
<li><p>Limited capability to handle complex or nonlinear systems.</p></li>
</ul>
<p><strong>LQR Controller</strong> The LQR controller is designed based on the principles of optimal control theory. It minimizes a cost function that combines both state and control input, making it suitable for linear, time-invariant systems.</p>
<p><strong>Advantages of LQR:</strong></p>
<ul class="simple">
<li><p>Optimal control solution for linear systems.</p></li>
<li><p>Ability to handle systems with multiple inputs and outputs.</p></li>
<li><p>Incorporates a mathematical model for optimal performance.</p></li>
</ul>
<p><strong>Considerations:</strong></p>
<ul class="simple">
<li><p>Requires a good understanding of the system dynamics for effective modeling.</p></li>
<li><p>Limited applicability to strictly linear systems.</p></li>
</ul>
</section>
</section>
<section id="Acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#Acknowledgments" title="Link to this heading"></a></h2>
<p>        This project is part of the coursework for FRA333 Robot Kinematics at the Institute of Field Robotics, King Mongkut’s University of Technology Thonburi. Special thanks to the course instructors for their guidance and support.</p>
<p>Feel free to explore, modify, and extend this project for educational and research purposes.</p>
</section>
<section id="Reference">
<h2>Reference<a class="headerlink" href="#Reference" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://ise.ait.ac.th/wp-content/uploads/sites/57/2020/12/Swing-Up-and-Balancing-of-a-Reaction-Wheel-Inverted-Pendulum.pdf">Swing Up and Balancing of a Reaction Wheel Inverted Pendulum</a></p></li>
<li><p><a class="reference external" href="https://ctms.engin.umich.edu/CTMS/index.php?example=InvertedPendulum&amp;section=ControlStateSpace">Inverted Pendulum: State-Space Methods for Controller Design</a></p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, mniehus.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>