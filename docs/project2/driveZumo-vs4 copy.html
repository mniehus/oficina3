

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modelo de movimento diferencial com dois motores e codificadores rotacionais &mdash; oficina3  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            oficina3
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">oficina3</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">LEFA Oficina 3 – Laboratório de Estimação e Controlo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#lefa-oficina-3-estimation-and-control-lab">LEFA Oficina 3 – Estimation and Control Lab</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projeto 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project1/aeropendulum.html">Projeto 1: Aeropêndulo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/analogies.html">Analogias &amp; números</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/pendulum-theory.html">Aeropendulum (theory)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/motorDC-theory.html">Motor DC (theory)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/L298N.html">Modulo L298N</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/fsms.html">Máquinas de Estado</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/interrupts.html">Interrupções</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/motorCalib-PT.html">Calibração &amp; software modular</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/as5600.html">Sensor AS5600</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/controlador.html">Controlador</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/controlo-PID-arduino.html">Controlador PID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/integration.html">Integração</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project1/resultados.html">Resultados</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projeto 2</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">Carro programável</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project 3</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project3/readme.html">Inverted Pendulum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/introduction.html">COIL Project: Inverted Pendulum with Reaction Wheel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/fundamentals.html">Dynamics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/fundamentals.html#Moment-of-Inertia">Moment of Inertia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/fundamentals.html#Power-conversion">Power conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/fundamentals.html#DC-Motor-Basics">DC Motor Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/fundamentals.html#Sensor-basics">Sensor basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/fundamentals.html#Controller">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/fundamentals.html#Arduino-System-Integration">Arduino System Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project3/fundamentals.html#Programming">Programming</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">oficina3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Modelo de movimento diferencial com dois motores e codificadores rotacionais</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/project2/driveZumo-vs4 copy.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import Libraries:</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.animation</span><span class="w"> </span><span class="kn">import</span> <span class="n">FFMpegWriter</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</pre></div>
</div>
</div>
<section id="Modelo-de-movimento-diferencial-com-dois-motores-e-codificadores-rotacionais">
<h1>Modelo de movimento diferencial com dois motores e codificadores rotacionais<a class="headerlink" href="#Modelo-de-movimento-diferencial-com-dois-motores-e-codificadores-rotacionais" title="Link to this heading"></a></h1>
<p>Para conduzir um robô de rastreio (‘tracking robot’) com dois motores (um motor à esquerda e outro à direita), controlamos a velocidade de cada roda para definir a trajetória do robô no plano $ (x, y) $. Neste tipo de robôs diferenciais, o movimento é determinado pela diferença de velocidade entre as rodas esquerda e direita.</p>
<section id="Modelação-do-Movimento-do-Robô-no-Plano-(x,-y)">
<h2>Modelação do Movimento do Robô no Plano (x, y)<a class="headerlink" href="#Modelação-do-Movimento-do-Robô-no-Plano-(x,-y)" title="Link to this heading"></a></h2>
<p><img alt="image.png" src="data:image/png;base64,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" /></p>
<p>Suponhamos que:</p>
<ul class="simple">
<li><p>$ v_L $ é a velocidade linear da roda esquerda,</p></li>
<li><p>$ v_R $ é a velocidade linear da roda direita,</p></li>
<li><p>$ R $ é o raio da roda,</p></li>
<li><p>$ d $ é a distância entre as rodas esquerda e direita (a base do robô).</p></li>
</ul>
</section>
<section id="Velocidade-Linear-e-Rotacional-do-Robô">
<h2>Velocidade Linear e Rotacional do Robô<a class="headerlink" href="#Velocidade-Linear-e-Rotacional-do-Robô" title="Link to this heading"></a></h2>
<p>A velocidade linear <span class="math notranslate nohighlight">\(v\)</span> do robô (no centro do eixo entre as rodas) e a velocidade angular $ :nbsphinx-math:<a href="#id1"><span class="problematic" id="id2">`</span></a>omega <a href="#id3"><span class="problematic" id="id4">`</span></a>$ (rotações por segundo) em torno do centro do robô são dadas por:</p>
<div class="math notranslate nohighlight">
\[v = \frac{v_L + v_R}{2}\]</div>
<div class="math notranslate nohighlight">
\[\omega = \frac{v_R - v_L}{d}\]</div>
</section>
<section id="Equações-de-Movimento">
<h2>Equações de Movimento<a class="headerlink" href="#Equações-de-Movimento" title="Link to this heading"></a></h2>
<p>Se o robô começa num ponto inicial $ (x_0, y_0) $ com uma orientação inicial $ <span class="math">\theta</span>_0 $ (ângulo em relação ao eixo $ x $), a posição do robô no tempo $ t $ pode ser calculada integrando a velocidade e a rotação ao longo do tempo. As equações de movimento são:</p>
<div class="math notranslate nohighlight">
\[x(t) = x_0 + \int_0^t v \cos(\theta(\tau)) \, d\tau\]</div>
<div class="math notranslate nohighlight">
\[y(t) = y_0 + \int_0^t v \sin(\theta(\tau)) \, d\tau\]</div>
<div class="math notranslate nohighlight">
\[\theta(t) = \theta_0 + \int_0^t \omega \, d\tau\]</div>
</section>
<section id="Implementação-Discreta">
<h2>Implementação Discreta<a class="headerlink" href="#Implementação-Discreta" title="Link to this heading"></a></h2>
<p>Para uma implementação discreta (em intervalos de tempo $ :nbsphinx-math:<a href="#id5"><span class="problematic" id="id6">`</span></a>Delta <a href="#id7"><span class="problematic" id="id8">`</span></a>t $), podemos aproximar estas integrais para atualizar o estado do robô em cada instante $ k $:</p>
<div class="math notranslate nohighlight">
\[x_{k+1} = x_k + v \cos(\theta_k) \Delta t\]</div>
<div class="math notranslate nohighlight">
\[y_{k+1} = y_k + v \sin(\theta_k) \Delta t\]</div>
<div class="math notranslate nohighlight">
\[\theta_{k+1} = \theta_k + \omega \Delta t\]</div>
</section>
<section id="Planeamento-do-Movimento">
<h2>Planeamento do Movimento<a class="headerlink" href="#Planeamento-do-Movimento" title="Link to this heading"></a></h2>
<p>Para conduzir o robô do ponto inicial ao ponto final, respeitando a orientação inicial e a orientação final desejada, podemos dividir o movimento em três etapas:</p>
<ol class="arabic simple">
<li><p><strong>Rotação Inicial</strong>: Alinhar o robô na direção do ponto final.</p></li>
<li><p><strong>Translação</strong>: Mover em linha reta até o ponto final.</p></li>
<li><p><strong>Rotação Final</strong>: Ajustar a orientação para a orientação final desejada.</p></li>
</ol>
<p>Suponhamos que:</p>
<ul class="simple">
<li><p>$ (x_0, y_0) $ e $ <span class="math">\theta</span>_0 $ representam a posição e orientação iniciais do robô.</p></li>
<li><p>$ (x_f, y_f) $ e $ <span class="math">\theta</span>_f $ representam a posição e orientação finais desejadas do robô.</p></li>
<li><p>A distância entre as rodas do robô é $ d $, e o controle é feito ajustando as velocidades angulares das rodas esquerda e direita.</p></li>
</ul>
<section id="Rotação-Inicial">
<h3>Rotação Inicial<a class="headerlink" href="#Rotação-Inicial" title="Link to this heading"></a></h3>
<p>Primeiro, precisamos alinhar o robô na direção do ponto final $ (x_f, y_f) $.</p>
<ol class="arabic">
<li><p><strong>Cálculo do Ângulo de Direção</strong>: Calcule o ângulo de orientação desejada, $ <span class="math">\theta</span>_d $, entre o ponto inicial $ (x_0, y_0) $ e o ponto final $ (x_f, y_f) $:</p>
<div class="math notranslate nohighlight">
\[\theta_d = \arctan\left(\frac{y_f - y_0}{x_f - x_0}\right)\]</div>
</li>
<li><p>**Rotação até $ <span class="math">\theta</span>_d $**: Ajuste a velocidade angular $ <span class="math">\omega `$ do robô para alinhar a orientação atual $ :nbsphinx-math:</span>theta`_0 $ com $ <span class="math">\theta</span>_d $. A rotação pode ser feita definindo as velocidades das rodas esquerda e direita, $ v_L $ e $ v_R $, com sinais opostos:</p>
<ul class="simple">
<li><p>Se $ <span class="math">\theta</span>_0 &lt; <span class="math">\theta</span>_d $, rode o robô no sentido anti-horário.</p></li>
<li><p>Se $ <span class="math">\theta</span>_0 &gt; <span class="math">\theta</span>_d $, rode o robô no sentido horário.</p></li>
</ul>
<p>A rotação é realizada com:</p>
<div class="math notranslate nohighlight">
\[v_L = -v \quad \text{e} \quad v_R = v\]</div>
<p>onde $ v $ é a velocidade desejada, de modo a gerar uma velocidade angular constante $ <span class="math">\omega `= :nbsphinx-math:</span>frac{2v}{d}` $ até que o robô atinja $ <span class="math">\theta</span>_d $.</p>
</li>
</ol>
</section>
<section id="Translação-em-Linha-Reta-até-o-Ponto-Final">
<h3>Translação em Linha Reta até o Ponto Final<a class="headerlink" href="#Translação-em-Linha-Reta-até-o-Ponto-Final" title="Link to this heading"></a></h3>
<p>Uma vez alinhado na direção do ponto final, o robô pode mover-se em linha reta até o ponto $ (x_f, y_f) $.</p>
<ol class="arabic">
<li><p><strong>Distância até o Ponto Final</strong>: Calcule a distância $ d_f $ entre a posição atual $ (x, y) $ e o ponto final $ (x_f, y_f) $:</p>
<div class="math notranslate nohighlight">
\[d_f = \sqrt{(x_f - x)^2 + (y_f - y)^2}\]</div>
</li>
<li><p><strong>Movimento em Linha Reta</strong>: Mova o robô para frente com uma velocidade linear constante $ v $ até percorrer a distância $ d_f $. Durante este movimento, a velocidade angular deve ser zero para manter o robô na linha reta:</p>
<div class="math notranslate nohighlight">
\[v_L = v \quad \text{e} \quad v_R = v\]</div>
<p>Continue o movimento até que a posição atual do robô atinja o ponto $ (x_f, y_f) $.</p>
</li>
</ol>
</section>
<section id="Rotação-Final">
<h3>Rotação Final<a class="headerlink" href="#Rotação-Final" title="Link to this heading"></a></h3>
<p>Finalmente, o robô deve ajustar a sua orientação para o ângulo final desejado $ <span class="math">\theta</span>_f $.</p>
<ol class="arabic">
<li><p><strong>Diferença de Orientação</strong>: Calcule a diferença angular $ <span class="math">\Delta `:nbsphinx-math:</span>theta <cite>$ entre a orientação atual $ :nbsphinx-math:</cite>theta <cite>$ e a orientação final $ :nbsphinx-math:</cite>theta`_f $:</p>
<div class="math notranslate nohighlight">
\[\Delta \theta = \theta_f - \theta\]</div>
</li>
<li><p>**Rotação para $ <span class="math">\theta</span>_f $**: Ajuste novamente as velocidades das rodas com sinais opostos para criar uma rotação até que a orientação atual coincida com $ <span class="math">\theta</span>_f $.</p>
<ul class="simple">
<li><p>Se $ <span class="math">\theta `< :nbsphinx-math:</span>theta`_f $, rode o robô no sentido anti-horário.</p></li>
<li><p>Se $ <span class="math">\theta `> :nbsphinx-math:</span>theta`_f $, rode o robô no sentido horário.</p></li>
</ul>
<p>A rotação final é realizada com:</p>
<div class="math notranslate nohighlight">
\[v_L = -v \quad \text{e} \quad v_R = v\]</div>
<p>até que o ângulo do robô seja igual a $ <span class="math">\theta</span>_f $.</p>
</li>
</ol>
<section id="Condução-ao-longo-de-segmento-linear">
<h4>Condução ao longo de segmento linear<a class="headerlink" href="#Condução-ao-longo-de-segmento-linear" title="Link to this heading"></a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Parâmetros do robô</span>
<span class="n">v_linear</span> <span class="o">=</span> <span class="mf">1.0</span>        <span class="c1"># Velocidade linear (m/s)</span>
<span class="n">v_angular</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span>   <span class="c1"># Velocidade angular (rad/s)</span>

<span class="n">dt</span> <span class="o">=</span> <span class="mf">0.1</span>              <span class="c1"># Intervalo de tempo (s)</span>

<span class="c1"># Coordenadas e orientações iniciais e finais</span>
<span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">theta0</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span>           <span class="c1"># Ponto inicial e orientação inicial</span>
<span class="n">xf</span><span class="p">,</span> <span class="n">yf</span><span class="p">,</span> <span class="n">thetaf</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span>         <span class="c1"># Ponto final e orientação final</span>

<span class="c1"># Inicialização das variáveis</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">theta0</span>
<span class="n">trajectory_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
<span class="n">trajectory_y</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">]</span>

<span class="c1"># 1. Rotação inicial para alinhar o robô na direção do ponto final</span>
<span class="n">theta_d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">yf</span> <span class="o">-</span> <span class="n">y0</span><span class="p">,</span> <span class="n">xf</span> <span class="o">-</span> <span class="n">x0</span><span class="p">)</span>
<span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">theta</span> <span class="o">-</span> <span class="n">theta_d</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.01</span><span class="p">:</span>  <span class="c1"># Até atingir a orientação desejada</span>
    <span class="k">if</span> <span class="n">theta</span> <span class="o">&lt;</span> <span class="n">theta_d</span><span class="p">:</span>
        <span class="n">theta</span> <span class="o">+=</span> <span class="n">v_angular</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">theta</span> <span class="o">-=</span> <span class="n">v_angular</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="n">trajectory_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">trajectory_y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># 2. Translação em linha reta até o ponto final</span>
<span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">xf</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">yf</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="k">while</span> <span class="n">distance</span> <span class="o">&gt;</span> <span class="mf">0.1</span><span class="p">:</span>  <span class="c1"># Até atingir o ponto final</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">v_linear</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="n">v_linear</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">xf</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">yf</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">trajectory_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">trajectory_y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># 3. Rotação final para atingir a orientação final desejada</span>
<span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">theta</span> <span class="o">-</span> <span class="n">thetaf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.01</span><span class="p">:</span>  <span class="c1"># Até atingir a orientação final</span>
    <span class="k">if</span> <span class="n">theta</span> <span class="o">&lt;</span> <span class="n">thetaf</span><span class="p">:</span>
        <span class="n">theta</span> <span class="o">+=</span> <span class="n">v_angular</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">theta</span> <span class="o">-=</span> <span class="n">v_angular</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="n">trajectory_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">trajectory_y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># Plot da trajetória</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">trajectory_x</span><span class="p">,</span> <span class="n">trajectory_y</span><span class="p">,</span> <span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Trajetória do robô&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">x0</span><span class="p">,</span> <span class="n">xf</span><span class="p">],</span> <span class="p">[</span><span class="n">y0</span><span class="p">,</span> <span class="n">yf</span><span class="p">],</span> <span class="s1">&#39;rx&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Pontos inicial e final&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta0</span><span class="p">),</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta0</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Orientação inicial&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">xf</span><span class="p">,</span> <span class="n">yf</span><span class="p">,</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">thetaf</span><span class="p">),</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">thetaf</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Orientação final&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;x (m)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;y (m)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Simulação do Movimento do Robô&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/project2_driveZumo-vs4_copy_4_0.png" src="../_images/project2_driveZumo-vs4_copy_4_0.png" />
</div>
</div>
</section>
<section id="Velocidade:-linear,-angular,-esquerda,-direita">
<h4>Velocidade: linear, angular, esquerda, direita<a class="headerlink" href="#Velocidade:-linear,-angular,-esquerda,-direita" title="Link to this heading"></a></h4>
</section>
</section>
</section>
</section>
<section id="Medir-velocidades-com-codificadores">
<h1>Medir velocidades com codificadores<a class="headerlink" href="#Medir-velocidades-com-codificadores" title="Link to this heading"></a></h1>
<p>Para incorporar as medições de velocidade usando os codificadores da roda esquerda e direita, precisamos entender que a velocidade de cada roda é determinada a partir das contagens dos codificadores em intervalos de tempo específicos. Cada codificador mede o número de “pulsos” ou “contagens” que ocorrem enquanto a roda gira, o que nos permite calcular a distância percorrida por cada roda e, portanto, a velocidade.</p>
<p>Vamos supor:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(N_L\)</span> e <span class="math notranslate nohighlight">\(N_R\)</span> são as contagens de pulsos dos codificadores da roda esquerda e da roda direita, respetivamente, durante o intervalo de tempo $ :nbsphinx-math:<a href="#id9"><span class="problematic" id="id10">`</span></a>Delta <a href="#id11"><span class="problematic" id="id12">`</span></a>t $.</p></li>
<li><p><span class="math notranslate nohighlight">\(P\)</span> é o número de impulsos por rotação completo da roda (resolução do codificador).</p></li>
<li><p><span class="math notranslate nohighlight">\(R\)</span> é o raio de cada roda.</p></li>
</ul>
<p>Para o robot Zumo, o valor de <span class="math notranslate nohighlight">\(P\)</span>, o número de impulsos por rotação completo da roda (resolução do codificador), pode ser obtido da documentação online em: <a class="reference external" href="https://www.pololu.com/docs/0J63/3.4">https://www.pololu.com/docs/0J63/3.4</a> $P = 900 CPR = 75 <span class="math">\cdot 12</span> CPR $ em que <span class="math notranslate nohighlight">\(CPR\)</span> são as contagens por revolução do eixo, <span class="math notranslate nohighlight">\(75\)</span> é o fator de redução da engrenagem mecânica entre o eixo da roda e o eixo do motor elétrico, e <span class="math notranslate nohighlight">\(12\)</span> CPR as contagens de impulsos por rotação do eixo do motor.</p>
<p>O raio da roda <span class="math notranslate nohighlight">\(R\)</span> pode ser medido ou estimado da informação disponivel, é é o raio de cada roda.</p>
<p>Em alternativa, podem determinar em laboratório qual o incremento dos contadores para cada centímetro de movimento.</p>
<p>Seja qual o método de definir estes parâmetros, eles nunca serão ‘perfeitos’, ou seja, estarão associados a uma inverteza ou um ‘erro’ que deve ser mantida tão pequeno quanto possível, no entanto, nunca poderá ser eliminado. Como se vai ver adiante, esta incerteza introduz incerteza no control do movimento e estimação de velocidade e posição.</p>
<p>A distância percorrida por cada roda durante $ <span class="math">\Delta `t $ pode ser obtida a partir da contagem de pulsos e da circunferência da roda ($ 2 :nbsphinx-math:</span>pi <cite>R $). Se $ N_L $ e $ N_R $ são as contagens de pulsos para a roda esquerda e direita, respetivamente, e $ :nbsphinx-math:</cite>Delta <cite>N_L $ e $:nbsphinx-math:</cite>Delta  <cite>N_R $ a variação das contagens desde a última medida, então a distância percorrida por cada roda ($ d_L $ para a roda esquerda e $ d_R $ para a direita) no
intervalo de temp :math:`dt</cite> é:</p>
<div class="math notranslate nohighlight">
\[\Delta d_L = \frac{\Delta N_L}{P} \cdot 2 \pi R\]</div>
<div class="math notranslate nohighlight">
\[\Delta d_R = \frac{\Delta N_R}{P} \cdot 2 \pi R\]</div>
<p>As velocidades lineares de cada roda, $ v_L $ e $ v_R $, são então dadas por:</p>
<div class="math notranslate nohighlight">
\[v_L = \frac{\Delta d_L}{\Delta t} = \frac{\Delta N_L}{P} \cdot \frac{2 \pi R}{\Delta t}\]</div>
<div class="math notranslate nohighlight">
\[v_R = \frac{\Delta d_R}{\Delta t} = \frac{\Delta N_R}{P} \cdot \frac{2 \pi R}{\Delta t}\]</div>
</section>
<section id="Calibrar-as-velocidades">
<h1>Calibrar as velocidades<a class="headerlink" href="#Calibrar-as-velocidades" title="Link to this heading"></a></h1>
<p>À semelhança da calibração de velocidade’PWM vs RPM’ dos motores e do aeropendulo, será necessário calibrar o controlo direto da velocidade do robot.</p>
<p>No modelo mais simples de ‘condução diferencial’ do motor (‘differential drive’) o movimento é controlado através do par de velocidades da roda da esquerda <span class="math notranslate nohighlight">\(v_L\)</span> e da roda da direita <span class="math notranslate nohighlight">\(v_R\)</span>. Estes são controlados através de um sinal PWM (‘Pulse width modulation’) que está integrado através dos métodos de controlo de motor do Zumo. O sentido de rotação e o fator de ciclo são controlados através de um parâmetro adimensional, de <span class="math notranslate nohighlight">\(pwm_L\)</span> e <span class="math notranslate nohighlight">\(pwm_R\)</span> (número digital, valores
inteiros, positivos ou negativos).</p>
<ul>
<li><p><span class="math notranslate nohighlight">\(pwm_L\)</span> e <span class="math notranslate nohighlight">\(pwm_R\)</span> representam valores digitais, ou seja são múltiplos da unidade elementar de um ‘bit’ (binary digit). Em informática é boa prática usar o termo ‘LSB’, que significa ‘Least Bignificant Bit’, para explicitar o bit elementar, e associar ao número digital ‘LSB’ como unidade adimensional.</p></li>
<li><p>De acordo com a informação na página do Zumo, e exemplos disponiveis no Arduino, temos:</p>
<div class="math notranslate nohighlight">
\[-400 \, LSB &lt; pwm_R &lt;400 \, LSB\]</div>
<div class="math notranslate nohighlight">
\[-400 \, LSB &lt; pwm_L &lt;400 \, LSB\]</div>
</li>
<li><p>Começa se por assumir um modelo linear de ordem zero para a calibração</p>
<div class="math notranslate nohighlight">
\[v_R=C_R \cdot pwm_R\]</div>
<div class="math notranslate nohighlight">
\[v_L=C_L \cdot pwm_L\]</div>
<p>No entanto, é preciso ter cautela, uma vez que, como se viu por exemplo no caso da calibração do motor elétrico, a relação ‘pwm vs rpm’ não seguia esta relação. Nesse caso, não era a desprezar a dinâmica entre o sinal PWM e os seus tempos característicos, a interagir com os tempos caracteristicos, mecânicos e elétricos, do motor DC. Adicionalmente, o circuito do driver elétrico também poderá ter tido um papel. A lição aprendida foi que é preciso analisar com sentido crítico as medidas, e
detrminar qual o modelo mais adequado para a curva de calibração. Esta questão só se coloca quando usar uma escala contínua de valores para <span class="math notranslate nohighlight">\(pwm_L\)</span> e <span class="math notranslate nohighlight">\(pwm_R\)</span>. No caso de usar um valor de comando constante por partes, como por exemplo no controlo tipo ‘bit-banging’ ou seja, ‘On-Off’, é menos importante esta questão. No entanto, quando usar um controlo com variação contínua, por exemplo no controlo ‘PID’, é importante conhecer ben a variação da curva de calibração, incluindo as não
idealidades e dinâmicas subjacentes.</p>
</li>
</ul>
<p>Os coeficientes de calibração <span class="math notranslate nohighlight">\(C_R\)</span> e <span class="math notranslate nohighlight">\(C_L\)</span> (em unidade de cm/s/LSB) podem ser determinados através dos codificadores, através das equações anteriores:</p>
<div class="math notranslate nohighlight">
\[v_R = \frac{2 \pi R}{P} \cdot \frac{\Delta N_R}{\Delta t}\]</div>
<div class="math notranslate nohighlight">
\[v_L = \frac{2 \pi R}{P} \cdot \frac{\Delta N_L}{\Delta t}\]</div>
<p>em que <span class="math notranslate nohighlight">\(R \approx 2 \, cm\)</span> é o raio das rodas e $P <span class="math">\approx 909</span> $ as contagens dos encoders por cada volta da roda.</p>
<p>Qual o erro associado aos valores assim obtidos de <span class="math notranslate nohighlight">\(v_R\)</span> e <span class="math notranslate nohighlight">\(v_L\)</span> ? Em geral, pela fórmula da propagação de erros:</p>
<div class="math notranslate nohighlight">
\[\frac{\Delta v_R}{v_R} = \sqrt{ \left ( \frac{\Delta R}{R} \right ) ^2 + \left ( \frac{\Delta P}{P} \right )^2 +\left ( \frac{\Delta N_R}{N_R} \right ) ^2+ \left ( \frac{\Delta (\Delta t)}{\Delta t} \right ) ^2 }\]</div>
<p>Para condições experimentais típicas, é seguro assumir que o erro dominante estará associado a determinação do raio da roda - inclusivamente pela possivel variabilidade das rodas. Assim, o erro é aproximadamente:</p>
<div class="math notranslate nohighlight">
\[\frac{\Delta v_R}{v_R} \approx \frac{\Delta R}{R}\]</div>
<p>Como exemplo: com um valor medido de $ R = (2.0 <span class="math">\pm 0.1</span> ), cm$ o erro relativo passa a ser $ <span class="math">\frac{\Delta v_R}{v_R}</span> = 0.05 :nbsphinx-math:<a href="#id13"><span class="problematic" id="id14">`</span></a>approx 5`%$. Pode não parecer muito, no entanto, terá para sistemas em movimento um efeito cumulativo para a determinação da posição. Ou seja: a determinação da posição será ao longo do tempo cada vez mais incerta.</p>
<p>Pelo modelo diferencial de condução temos para o robot em geral a velocidade linear <span class="math notranslate nohighlight">\(v\)</span> e angular <span class="math notranslate nohighlight">\(\omega\)</span></p>
<div class="math notranslate nohighlight">
\[v = \frac{v_R + v_L}{2}\]</div>
<div class="math notranslate nohighlight">
\[\omega = \frac{v_R - v_L}{d}\]</div>
<p>Métodos simples do tipo ‘start-stop’ são adequados para a calibração numa dimensão só, nos casos de translação pura <span class="math notranslate nohighlight">\(\omega=0\)</span> ou rotação pura <span class="math notranslate nohighlight">\(v=0\)</span>.</p>
<p>Por exemplo, é possivel calibrar a velocidade através de um sistema tipo ‘start-stop’: por exemplo uma pista linear com uma certa distância conhecida. E cronometrar o tempo de passagem.</p>
<p>Na prática, na grande maioria de casos experimentais, a condição de comando $pwm_L + pwm_R = 0 $ não resulta em <span class="math notranslate nohighlight">\(v_R + v_L = 0\)</span> nem $pwm_R - pwm_L = 0 $ resulta em não resulta em <span class="math notranslate nohighlight">\(v_R - v_L = 0\)</span>.</p>
<p>De um modo geral é necessário calibrar em duas dimensões. As calibrações de <span class="math notranslate nohighlight">\(v\)</span> e <span class="math notranslate nohighlight">\(\omega\)</span> devem ser realizadas num referencial global ou seja, de laboratório, com algum método que permite analisar este movimento em duas dimensões, por exemplo equipar o robot com um símbolo gráfico tipo QR code, e colocar uma camera a detetar e analisar o movimento do robot.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd"># Parâmetros do robô</span>
<span class="sd">d=10 #cm, distancia entre rodas</span>

<span class="sd"># controlo de velocidade (da calibração)</span>
<span class="sd">pwm_max=400 #LSB</span>
<span class="sd">vmax=10 #cm/s, with pwm_max applied to left and right motor</span>
<span class="sd">wmax=2*vmax/d # rad/s, with pwm_max applied to right motor and -pwm_max to left motor</span>

<span class="sd">pwm=200;#valor usado para pwm &#39;speed&#39;</span>

<span class="sd">vmax = vmax*pwm/pwm_max   # Velocidade linear aplicada (cm/s)</span>
<span class="sd">wmax = 2*vmax/d   # Velocidade angular aplicada (rad/s)</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#34;\n# Parâmetros do robô\nd=10 #cm, distancia entre rodas\n\n# controlo de velocidade (da calibração)\npwm_max=400 #LSB\nvmax=10 #cm/s, with pwm_max applied to left and right motor\nwmax=2*vmax/d # rad/s, with pwm_max applied to right motor and -pwm_max to left motor \n\npwm=200;#valor usado para pwm &#39;speed&#39;\n\nvmax = vmax*pwm/pwm_max   # Velocidade linear aplicada (cm/s)\nwmax = 2*vmax/d   # Velocidade angular aplicada (rad/s)\n&#34;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</pre></div>
</div>
</div>
</section>
<section id="Waypoints-1-(poligon)">
<h1>Waypoints 1 (poligon)<a class="headerlink" href="#Waypoints-1-(poligon)" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># coordenadas de vertices (&#39;waypoints&#39;) de trajetoria alvo</span>

<span class="c1">#poligonio = pentagono</span>
<span class="n">wps</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Fechar a trajetoria</span>
<span class="n">wps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">wps</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1">#print(wps)</span>
</pre></div>
</div>
</div>
</section>
<section id="Waypoints-2-(ellipse)">
<h1>Waypoints 2 (ellipse)<a class="headerlink" href="#Waypoints-2-(ellipse)" title="Link to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">ellipse_waypoints</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">num_points</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate waypoints for a figure-eight trajectory.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    - a (float): Horizontal radius</span>
<span class="sd">    - b (float): Vertical radius</span>
<span class="sd">    - num_points (int): Number of waypoints to calculate.</span>

<span class="sd">    Returns:</span>
<span class="sd">    - waypoints (list): List of (x, y) tuples representing the trajectory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Generate time parameter t</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">num_points</span><span class="p">)</span>

    <span class="c1"># Calculate waypoints using the parametric equations</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

    <span class="c1"># Combine x and y into waypoints</span>
    <span class="n">waypoints</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">waypoints</span>

<span class="sd">&#39;&#39;&#39;# Example usage</span>
<span class="sd">if __name__ == &quot;__main__&quot;:</span>
<span class="sd">    # Parameters</span>
<span class="sd">    a = 30  # Width of the figure-eight (cm)</span>
<span class="sd">    b = 20  # Height of the figure-eight (cm)</span>
<span class="sd">    num_points = 100  # Number of waypoints</span>

<span class="sd">    # Calculate waypoints</span>
<span class="sd">    wps = ellipse_waypoints(a, b, num_points)</span>
<span class="sd">    #print (waypoints)</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;# Example usage\nif __name__ == &#34;__main__&#34;:\n    # Parameters\n    a = 30  # Width of the figure-eight (cm)\n    b = 20  # Height of the figure-eight (cm)\n    num_points = 100  # Number of waypoints\n\n    # Calculate waypoints\n    wps = ellipse_waypoints(a, b, num_points)\n    #print (waypoints)\n    &#39;
</pre></div></div>
</div>
</section>
<section id="Waypoints-3-(figure-eight)">
<h1>Waypoints 3 (figure eight)<a class="headerlink" href="#Waypoints-3-(figure-eight)" title="Link to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">figure_eight_waypoints</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">num_points</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate waypoints for a figure-eight trajectory.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    - a (float): Horizontal scaling factor (width of the figure eight).</span>
<span class="sd">    - b (float): Vertical scaling factor (height of the figure eight).</span>
<span class="sd">    - num_points (int): Number of waypoints to calculate.</span>

<span class="sd">    Returns:</span>
<span class="sd">    - waypoints (list): List of (x, y) tuples representing the trajectory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Generate time parameter t</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">num_points</span><span class="p">)</span>

    <span class="c1"># Calculate waypoints using the parametric equations</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

    <span class="c1"># Combine x and y into waypoints</span>
    <span class="n">waypoints</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">waypoints</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd"># Example usage</span>
<span class="sd">if __name__ == &quot;__main__&quot;:</span>
<span class="sd">    # Parameters</span>
<span class="sd">    a = 30  # Width of the figure-eight (cm)</span>
<span class="sd">    b = 20  # Height of the figure-eight (cm)</span>
<span class="sd">    num_points = 100  # Number of waypoints</span>

<span class="sd">    # Calculate waypoints</span>
<span class="sd">    wps = figure_eight_waypoints(a, b, num_points)</span>
<span class="sd">    #print (waypoints)</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;\n# Example usage\nif __name__ == &#34;__main__&#34;:\n    # Parameters\n    a = 30  # Width of the figure-eight (cm)\n    b = 20  # Height of the figure-eight (cm)\n    num_points = 100  # Number of waypoints\n\n    # Calculate waypoints\n    wps = figure_eight_waypoints(a, b, num_points)\n    #print (waypoints)\n    &#39;
</pre></div></div>
</div>
</section>
<section id="Waypoints-4-(planet-orbits)">
<h1>Waypoints 4 (planet orbits)<a class="headerlink" href="#Waypoints-4-(planet-orbits)" title="Link to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">calculate_orbit</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">num_points</span><span class="p">,</span> <span class="n">scale_distance</span><span class="p">,</span> <span class="n">scale_velocity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the scaled trajectory and velocities of a celestial body&#39;s orbit.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    - a (float): Semi-major axis of the orbit (AU).</span>
<span class="sd">    - e (float): Orbital eccentricity.</span>
<span class="sd">    - T (float): Orbital period (Earth years).</span>
<span class="sd">    - num_points (int): Number of points in the orbit.</span>
<span class="sd">    - scale_distance (float): Scaling factor for distances.</span>
<span class="sd">    - scale_velocity (float): Scaling factor for velocities.</span>

<span class="sd">    Returns:</span>
<span class="sd">    - positions (list of tuple): List of scaled (x, y) positions.</span>
<span class="sd">    - velocities (list of tuple): List of scaled (vx, vy) velocities.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Generate true anomaly over one orbit</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">num_points</span><span class="p">)</span>

    <span class="c1"># Calculate the orbital radius using the ellipse equation</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">e</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">e</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span>

    <span class="c1"># Convert to Cartesian coordinates</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>

    <span class="c1"># Scale distances</span>
    <span class="n">x_scaled</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">scale_distance</span>
    <span class="n">y_scaled</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="n">scale_distance</span>

    <span class="c1"># Calculate velocities (orbital speed formula)</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">**</span><span class="mi">2</span>  <span class="c1"># Gravitational parameter (AU^3 / year^2)</span>
    <span class="n">orbital_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">a</span><span class="p">))</span>  <span class="c1"># Orbital speed (AU/year)</span>
    <span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">orbital_speed</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">vy</span> <span class="o">=</span> <span class="n">orbital_speed</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>

    <span class="c1"># Scale velocities</span>
    <span class="n">vx_scaled</span> <span class="o">=</span> <span class="n">vx</span> <span class="o">*</span> <span class="n">scale_velocity</span>
    <span class="n">vy_scaled</span> <span class="o">=</span> <span class="n">vy</span> <span class="o">*</span> <span class="n">scale_velocity</span>

    <span class="c1"># Combine results</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">x_scaled</span><span class="p">,</span> <span class="n">y_scaled</span><span class="p">))</span>
    <span class="n">velocities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">vx_scaled</span><span class="p">,</span> <span class="n">vy_scaled</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">positions</span><span class="p">,</span> <span class="n">velocities</span>

<span class="sd">&#39;&#39;&#39;# Example usage</span>
<span class="sd">if __name__ == &quot;__main__&quot;:</span>
<span class="sd">    # Define orbital parameters for planets and famous comets</span>
<span class="sd">    celestial_bodies = {</span>
<span class="sd">        &quot;Mercury&quot;: {&quot;a&quot;: 0.39, &quot;e&quot;: 0.205, &quot;T&quot;: 0.24},</span>
<span class="sd">        &quot;Venus&quot;: {&quot;a&quot;: 0.72, &quot;e&quot;: 0.007, &quot;T&quot;: 0.62},</span>
<span class="sd">        &quot;Earth&quot;: {&quot;a&quot;: 1.0, &quot;e&quot;: 0.0167, &quot;T&quot;: 1.0},</span>
<span class="sd">        &quot;Mars&quot;: {&quot;a&quot;: 1.524, &quot;e&quot;: 0.0934, &quot;T&quot;: 1.88},</span>
<span class="sd">        &quot;Jupiter&quot;: {&quot;a&quot;: 5.203, &quot;e&quot;: 0.0489, &quot;T&quot;: 11.86},</span>
<span class="sd">        &quot;Saturn&quot;: {&quot;a&quot;: 9.537, &quot;e&quot;: 0.0565, &quot;T&quot;: 29.46},</span>
<span class="sd">        &quot;Uranus&quot;: {&quot;a&quot;: 19.191, &quot;e&quot;: 0.046, &quot;T&quot;: 84.01},</span>
<span class="sd">        &quot;Halley&#39;s Comet&quot;: {&quot;a&quot;: 17.8, &quot;e&quot;: 0.967, &quot;T&quot;: 75.3},</span>
<span class="sd">        &quot;Encke&#39;s Comet&quot;: {&quot;a&quot;: 2.21, &quot;e&quot;: 0.847, &quot;T&quot;: 3.3},</span>
<span class="sd">    }</span>

<span class="sd">    # Simulation parameters</span>
<span class="sd">    num_points = 500  # Number of points per orbit</span>
<span class="sd">    scale_distance = 100  # Scale factor for distances (cm per AU)</span>
<span class="sd">    scale_velocity = 10  # Scale factor for velocities (cm/s per AU/year)</span>

<span class="sd">    # Plot orbits</span>
<span class="sd">    plt.figure(figsize=(12, 10))</span>
<span class="sd">    for body, params in celestial_bodies.items():</span>
<span class="sd">        # Calculate orbit</span>
<span class="sd">        positions, velocities = calculate_orbit(</span>
<span class="sd">            a=params[&quot;a&quot;],</span>
<span class="sd">            e=params[&quot;e&quot;],</span>
<span class="sd">            T=params[&quot;T&quot;],</span>
<span class="sd">            num_points=num_points,</span>
<span class="sd">            scale_distance=scale_distance,</span>
<span class="sd">            scale_velocity=scale_velocity,</span>
<span class="sd">        )</span>

<span class="sd">        # Extract x and y coordinates</span>
<span class="sd">        x, y = zip(*positions)</span>

<span class="sd">        # Plot orbit</span>
<span class="sd">        plt.plot(x, y, label=f&quot;{body} Orbit&quot;)</span>
<span class="sd">        plt.scatter(x[0], y[0], label=f&quot;{body} Start&quot;, s=10, zorder=5)</span>

<span class="sd">    # Plot settings</span>
<span class="sd">    plt.title(&quot;Scaled Orbits of Planets and Comets&quot;)</span>
<span class="sd">    plt.xlabel(&quot;X Position (cm)&quot;)</span>
<span class="sd">    plt.ylabel(&quot;Y Position (cm)&quot;)</span>
<span class="sd">    plt.axis(&#39;equal&#39;)</span>
<span class="sd">    plt.legend()</span>
<span class="sd">    plt.grid()</span>
<span class="sd">    plt.show()</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;# Example usage\nif __name__ == &#34;__main__&#34;:\n    # Define orbital parameters for planets and famous comets\n    celestial_bodies = {\n        &#34;Mercury&#34;: {&#34;a&#34;: 0.39, &#34;e&#34;: 0.205, &#34;T&#34;: 0.24},\n        &#34;Venus&#34;: {&#34;a&#34;: 0.72, &#34;e&#34;: 0.007, &#34;T&#34;: 0.62},\n        &#34;Earth&#34;: {&#34;a&#34;: 1.0, &#34;e&#34;: 0.0167, &#34;T&#34;: 1.0},\n        &#34;Mars&#34;: {&#34;a&#34;: 1.524, &#34;e&#34;: 0.0934, &#34;T&#34;: 1.88},\n        &#34;Jupiter&#34;: {&#34;a&#34;: 5.203, &#34;e&#34;: 0.0489, &#34;T&#34;: 11.86},\n        &#34;Saturn&#34;: {&#34;a&#34;: 9.537, &#34;e&#34;: 0.0565, &#34;T&#34;: 29.46},\n        &#34;Uranus&#34;: {&#34;a&#34;: 19.191, &#34;e&#34;: 0.046, &#34;T&#34;: 84.01},\n        &#34;Halley\&#39;s Comet&#34;: {&#34;a&#34;: 17.8, &#34;e&#34;: 0.967, &#34;T&#34;: 75.3},\n        &#34;Encke\&#39;s Comet&#34;: {&#34;a&#34;: 2.21, &#34;e&#34;: 0.847, &#34;T&#34;: 3.3},\n    }\n\n    # Simulation parameters\n    num_points = 500  # Number of points per orbit\n    scale_distance = 100  # Scale factor for distances (cm per AU)\n    scale_velocity = 10  # Scale factor for velocities (cm/s per AU/year)\n\n    # Plot orbits\n    plt.figure(figsize=(12, 10))\n    for body, params in celestial_bodies.items():\n        # Calculate orbit\n        positions, velocities = calculate_orbit(\n            a=params[&#34;a&#34;],\n            e=params[&#34;e&#34;],\n            T=params[&#34;T&#34;],\n            num_points=num_points,\n            scale_distance=scale_distance,\n            scale_velocity=scale_velocity,\n        )\n\n        # Extract x and y coordinates\n        x, y = zip(*positions)\n\n        # Plot orbit\n        plt.plot(x, y, label=f&#34;{body} Orbit&#34;)\n        plt.scatter(x[0], y[0], label=f&#34;{body} Start&#34;, s=10, zorder=5)\n\n    # Plot settings\n    plt.title(&#34;Scaled Orbits of Planets and Comets&#34;)\n    plt.xlabel(&#34;X Position (cm)&#34;)\n    plt.ylabel(&#34;Y Position (cm)&#34;)\n    plt.axis(\&#39;equal\&#39;)\n    plt.legend()\n    plt.grid()\n    plt.show()\n    &#39;
</pre></div></div>
</div>
</section>
<section id="Waypoints-5-(satellite-orbits)">
<h1>Waypoints 5 (satellite orbits)<a class="headerlink" href="#Waypoints-5-(satellite-orbits)" title="Link to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">calculate_orbit</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">num_points</span><span class="p">,</span> <span class="n">scale_distance</span><span class="p">,</span> <span class="n">scale_velocity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the scaled trajectory and velocities of a satellite&#39;s orbit.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    - a (float): Semi-major axis of the orbit (km).</span>
<span class="sd">    - e (float): Orbital eccentricity.</span>
<span class="sd">    - T (float): Orbital period (hours).</span>
<span class="sd">    - num_points (int): Number of points in the orbit.</span>
<span class="sd">    - scale_distance (float): Scaling factor for distances.</span>
<span class="sd">    - scale_velocity (float): Scaling factor for velocities.</span>

<span class="sd">    Returns:</span>
<span class="sd">    - positions (list of tuple): List of scaled (x, y) positions.</span>
<span class="sd">    - velocities (list of tuple): List of scaled (vx, vy) velocities.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Generate true anomaly over one orbit</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">num_points</span><span class="p">)</span>

    <span class="c1"># Calculate the orbital radius using the ellipse equation</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">e</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">e</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span>

    <span class="c1"># Convert to Cartesian coordinates</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">r</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>

    <span class="c1"># Scale distances</span>
    <span class="n">x_scaled</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">scale_distance</span>
    <span class="n">y_scaled</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="n">scale_distance</span>

    <span class="c1"># Calculate orbital speed (simplified; only for circular-like orbits)</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="mf">398600.4418</span>  <span class="c1"># Gravitational parameter (km^3/s^2)</span>
    <span class="n">orbital_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="n">r</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">a</span><span class="p">))</span>  <span class="c1"># Orbital speed (km/s)</span>
    <span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">orbital_speed</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="n">vy</span> <span class="o">=</span> <span class="n">orbital_speed</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>

    <span class="c1"># Scale velocities</span>
    <span class="n">vx_scaled</span> <span class="o">=</span> <span class="n">vx</span> <span class="o">*</span> <span class="n">scale_velocity</span>
    <span class="n">vy_scaled</span> <span class="o">=</span> <span class="n">vy</span> <span class="o">*</span> <span class="n">scale_velocity</span>

    <span class="c1"># Combine results</span>
    <span class="n">positions</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">x_scaled</span><span class="p">,</span> <span class="n">y_scaled</span><span class="p">))</span>
    <span class="n">velocities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">vx_scaled</span><span class="p">,</span> <span class="n">vy_scaled</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">positions</span><span class="p">,</span> <span class="n">velocities</span>

<span class="sd">&#39;&#39;&#39;# Example usage</span>
<span class="sd">if __name__ == &quot;__main__&quot;:</span>
<span class="sd">    # Define orbital parameters for satellites and historical trajectories</span>
<span class="sd">    satellites = {</span>
<span class="sd">        # Earth</span>
<span class="sd">        &quot;Earth&quot;: {&quot;a&quot;: 6378, &quot;e&quot;: 0.000, &quot;T&quot;: 24},</span>
<span class="sd">        # LEO examples</span>
<span class="sd">        &quot;Hubble Space Telescope&quot;: {&quot;a&quot;: 6820, &quot;e&quot;: 0.0006, &quot;T&quot;: 1.54},</span>
<span class="sd">        &quot;ISS&quot;: {&quot;a&quot;: 6771, &quot;e&quot;: 0.001, &quot;T&quot;: 1.5},</span>
<span class="sd">        # MEO examples</span>
<span class="sd">        &quot;GPS Satellite&quot;: {&quot;a&quot;: 26600, &quot;e&quot;: 0.01, &quot;T&quot;: 11.98},</span>
<span class="sd">        &quot;Galileo Satellite&quot;: {&quot;a&quot;: 29600, &quot;e&quot;: 0.005, &quot;T&quot;: 14.08},</span>
<span class="sd">        # GEO examples</span>
<span class="sd">        &quot;Geostationary Satellite&quot;: {&quot;a&quot;: 42164, &quot;e&quot;: 0.0, &quot;T&quot;: 24},</span>
<span class="sd">    }</span>

<span class="sd">    # Simulation parameters</span>
<span class="sd">    num_points = 500  # Number of points per orbit</span>
<span class="sd">    scale_distance = 0.01  # Scale factor for distances (km to cm)</span>
<span class="sd">    scale_velocity = 1.0  # Scale factor for velocities (km/s to cm/s)</span>

<span class="sd">    # Plot orbits</span>
<span class="sd">    plt.figure(figsize=(12, 10))</span>
<span class="sd">    for satellite, params in satellites.items():</span>
<span class="sd">        # Calculate orbit</span>
<span class="sd">        positions, velocities = calculate_orbit(</span>
<span class="sd">            a=params[&quot;a&quot;],</span>
<span class="sd">            e=params[&quot;e&quot;],</span>
<span class="sd">            T=params[&quot;T&quot;],</span>
<span class="sd">            num_points=num_points,</span>
<span class="sd">            scale_distance=scale_distance,</span>
<span class="sd">            scale_velocity=scale_velocity,</span>
<span class="sd">        )</span>

<span class="sd">        # Extract x and y coordinates</span>
<span class="sd">        x, y = zip(*positions)</span>

<span class="sd">        # Plot orbit</span>
<span class="sd">        plt.plot(x, y, label=f&quot;{satellite} Orbit&quot;)</span>
<span class="sd">        plt.scatter(x[0], y[0], label=f&quot;{satellite} Start&quot;, s=10, zorder=5)</span>

<span class="sd">    # Plot settings</span>
<span class="sd">    plt.title(&quot;Scaled Orbits of Satellites&quot;)</span>
<span class="sd">    plt.xlabel(&quot;X Position (cm)&quot;)</span>
<span class="sd">    plt.ylabel(&quot;Y Position (cm)&quot;)</span>
<span class="sd">    plt.axis(&#39;equal&#39;)</span>
<span class="sd">    plt.legend()</span>
<span class="sd">    plt.grid()</span>
<span class="sd">    plt.show()</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;# Example usage\nif __name__ == &#34;__main__&#34;:\n    # Define orbital parameters for satellites and historical trajectories\n    satellites = {\n        # Earth\n        &#34;Earth&#34;: {&#34;a&#34;: 6378, &#34;e&#34;: 0.000, &#34;T&#34;: 24},\n        # LEO examples\n        &#34;Hubble Space Telescope&#34;: {&#34;a&#34;: 6820, &#34;e&#34;: 0.0006, &#34;T&#34;: 1.54},\n        &#34;ISS&#34;: {&#34;a&#34;: 6771, &#34;e&#34;: 0.001, &#34;T&#34;: 1.5},\n        # MEO examples\n        &#34;GPS Satellite&#34;: {&#34;a&#34;: 26600, &#34;e&#34;: 0.01, &#34;T&#34;: 11.98},\n        &#34;Galileo Satellite&#34;: {&#34;a&#34;: 29600, &#34;e&#34;: 0.005, &#34;T&#34;: 14.08},\n        # GEO examples\n        &#34;Geostationary Satellite&#34;: {&#34;a&#34;: 42164, &#34;e&#34;: 0.0, &#34;T&#34;: 24},\n    }\n\n    # Simulation parameters\n    num_points = 500  # Number of points per orbit\n    scale_distance = 0.01  # Scale factor for distances (km to cm)\n    scale_velocity = 1.0  # Scale factor for velocities (km/s to cm/s)\n\n    # Plot orbits\n    plt.figure(figsize=(12, 10))\n    for satellite, params in satellites.items():\n        # Calculate orbit\n        positions, velocities = calculate_orbit(\n            a=params[&#34;a&#34;],\n            e=params[&#34;e&#34;],\n            T=params[&#34;T&#34;],\n            num_points=num_points,\n            scale_distance=scale_distance,\n            scale_velocity=scale_velocity,\n        )\n\n        # Extract x and y coordinates\n        x, y = zip(*positions)\n\n        # Plot orbit\n        plt.plot(x, y, label=f&#34;{satellite} Orbit&#34;)\n        plt.scatter(x[0], y[0], label=f&#34;{satellite} Start&#34;, s=10, zorder=5)\n\n    # Plot settings\n    plt.title(&#34;Scaled Orbits of Satellites&#34;)\n    plt.xlabel(&#34;X Position (cm)&#34;)\n    plt.ylabel(&#34;Y Position (cm)&#34;)\n    plt.axis(\&#39;equal\&#39;)\n    plt.legend()\n    plt.grid()\n    plt.show()\n&#39;
</pre></div></div>
</div>
</section>
<section id="Plot-waypoints-trajectory">
<h1>Plot waypoints trajectory<a class="headerlink" href="#Plot-waypoints-trajectory" title="Link to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the trajectory</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1">#for i in range(len(wps)):</span>
<span class="c1">#    plt.scatter(wps[i][0], wps[i][1])</span>
<span class="c1"># Extract x and y coordinates for plotting</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">wps</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Start Point&quot;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;x (cm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;y (cm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Waypoint trajectory&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>
<span class="c1">#plt.legend()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/project2_driveZumo-vs4_copy_20_0.png" src="../_images/project2_driveZumo-vs4_copy_20_0.png" />
</div>
</div>
</section>
<section id="Parâmetros-do-robô-incl.-pwm-e-velocidade-linear-e-angular">
<h1>Parâmetros do robô incl. pwm e velocidade linear e angular<a class="headerlink" href="#Parâmetros-do-robô-incl.-pwm-e-velocidade-linear-e-angular" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Parâmetros do robô</span>
<span class="n">d</span><span class="o">=</span><span class="mf">8.5</span> <span class="c1">#cm, distancia entre rodas</span>

<span class="c1"># controlo de velocidade</span>
<span class="n">pwm_max</span><span class="o">=</span><span class="mi">200</span>
<span class="n">vmax</span><span class="o">=</span><span class="mf">26.3</span> <span class="c1">#cm/s, with pwm_max applied to left and right motor</span>
<span class="n">wmax</span><span class="o">=</span><span class="mf">4.79</span> <span class="c1">#rad/s, with pwm_max applied to right and pwm_min to left motor</span>
<span class="c1">#wmax=vmax/(d/2) # valor teórico, dava 6.2 rad/s, rad/s</span>
</pre></div>
</div>
</div>
</section>
<section id="Atualizar-a-posição-e-orientação-do-robô-em-cada-segmento">
<h1>Atualizar a posição e orientação do robô em cada segmento<a class="headerlink" href="#Atualizar-a-posição-e-orientação-do-robô-em-cada-segmento" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Função para atualizar a posição e orientação do robô para cada segmento da trajetória</span>
<span class="k">def</span><span class="w"> </span><span class="nf">move_robot</span><span class="p">(</span><span class="n">t_start</span><span class="p">,</span> <span class="n">x_start</span><span class="p">,</span> <span class="n">y_start</span><span class="p">,</span> <span class="n">theta_start</span><span class="p">,</span> <span class="n">x_end</span><span class="p">,</span> <span class="n">y_end</span><span class="p">,</span> <span class="n">theta_end</span><span class="p">):</span>

    <span class="n">trajectory</span><span class="o">=</span><span class="p">[]</span>

    <span class="c1">#global t,v,w,x,y,theta</span>

    <span class="n">t</span><span class="o">=</span><span class="n">t_start</span>
    <span class="n">v</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">w</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">x</span><span class="o">=</span><span class="n">x_start</span>
    <span class="n">y</span><span class="o">=</span><span class="n">y_start</span>
    <span class="n">theta</span><span class="o">=</span><span class="n">theta_start</span>

    <span class="c1"># 1. Rotação inicial para alinhar com o ponto final</span>
    <span class="n">w</span><span class="o">=</span><span class="n">wmax</span>
    <span class="n">theta_d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">y_end</span> <span class="o">-</span> <span class="n">y_start</span><span class="p">,</span> <span class="n">x_end</span> <span class="o">-</span> <span class="n">x_start</span><span class="p">)</span>
    <span class="n">dtheta_before</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">theta</span> <span class="o">-</span> <span class="n">theta_d</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span> <span class="c1">#arbitrar valor anterior ao inicial</span>

    <span class="c1">#print(&#39;first&#39;)</span>
    <span class="k">while</span> <span class="nb">abs</span><span class="p">(</span><span class="n">theta</span> <span class="o">-</span> <span class="n">theta_d</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.01</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">theta</span> <span class="o">-</span> <span class="n">theta_d</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">dtheta_before</span><span class="p">:</span>  <span class="c1"># Até atingir a orientação desejada</span>
        <span class="n">dtheta_before</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">theta</span> <span class="o">-</span> <span class="n">theta_d</span><span class="p">)</span>
        <span class="n">t</span><span class="o">+=</span><span class="n">dt</span>
        <span class="k">if</span> <span class="n">theta</span> <span class="o">&lt;</span> <span class="n">theta_d</span><span class="p">:</span>
            <span class="n">w</span><span class="o">=</span><span class="n">wmax</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">w</span><span class="o">=-</span><span class="mi">1</span><span class="o">*</span><span class="n">wmax</span>
        <span class="n">theta</span> <span class="o">+=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">dt</span>
        <span class="n">trajectory</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">t</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">theta</span><span class="p">))</span>

    <span class="c1"># 2. Translação em linha reta até o ponto final</span>
    <span class="n">v</span><span class="o">=</span><span class="n">vmax</span>
    <span class="n">w</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x_end</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y_end</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">distance_before</span><span class="o">=</span><span class="n">distance</span><span class="o">+</span><span class="mi">1</span>  <span class="c1">#arbitrar valor anterior</span>
    <span class="c1">#print(&#39;second&#39;)</span>
    <span class="k">while</span> <span class="n">distance</span> <span class="o">&gt;</span> <span class="mf">0.1</span> <span class="ow">and</span> <span class="n">distance</span><span class="o">&lt;</span><span class="n">distance_before</span><span class="p">:</span>  <span class="c1"># Até atingir o ponto final</span>
        <span class="c1">#print(distance)</span>
        <span class="n">distance_before</span><span class="o">=</span><span class="n">distance</span>
        <span class="n">t</span><span class="o">=</span><span class="n">t</span><span class="o">+</span><span class="n">dt</span>
        <span class="n">x</span> <span class="o">+=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta_d</span><span class="p">)</span> <span class="o">*</span> <span class="n">dt</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_d</span><span class="p">)</span> <span class="o">*</span> <span class="n">dt</span>
        <span class="n">trajectory</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">t</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">theta</span><span class="p">))</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x_end</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y_end</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    # 3. Rotação final para atingir a orientação final desejada</span>
<span class="sd">    # (passo desnecessário neste problema)</span>
<span class="sd">    v=0</span>
<span class="sd">    w=wmax</span>
<span class="sd">    dtheta_before=abs(theta - theta_end)+1   #arbitrar valor anterior</span>
<span class="sd">    #print(&#39;third&#39;)</span>
<span class="sd">    while abs(theta - theta_end) &gt; 0.01 and abs(theta - theta_end) &lt; dtheta_before:  # Até atingir a orientação final</span>
<span class="sd">        #print(abs(theta - theta_end))</span>
<span class="sd">        t=t+dt</span>
<span class="sd">        if theta &lt; theta_end:</span>
<span class="sd">            w=wmax</span>
<span class="sd">        else:</span>
<span class="sd">            w=-wmax</span>
<span class="sd">        theta += w * dt</span>
<span class="sd">        trajectory.append((t,v,w,x,y,theta))</span>
<span class="sd">        dtheta_before=abs(theta - theta_end)</span>
<span class="sd">        &#39;&#39;&#39;</span>

    <span class="k">return</span> <span class="n">trajectory</span>
</pre></div>
</div>
</div>
</section>
<section id="Calcular-parametros-da-trajetoria-total">
<h1>Calcular parametros da trajetoria total<a class="headerlink" href="#Calcular-parametros-da-trajetoria-total" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#start configuration</span>

<span class="n">t0</span><span class="o">=</span><span class="mi">0</span>  <span class="c1">#start time</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mf">0.2</span>             <span class="c1"># Intervalo de tempo (s)</span>

<span class="c1"># Inicialização da posição e orientação do robô</span>
<span class="n">x0</span> <span class="o">=</span> <span class="n">wps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">y0</span> <span class="o">=</span> <span class="n">wps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="n">theta0</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Geração da trajetória completa para todos os segmentos</span>
<span class="n">full_trajectory</span><span class="o">=</span> <span class="p">[]</span>
<span class="n">full_trajectory</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">t0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">x0</span><span class="p">,</span><span class="n">y0</span><span class="p">,</span><span class="n">theta0</span><span class="p">))</span>

<span class="c1">#create movement along trajectory</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">wps</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">t_start</span><span class="o">=</span><span class="n">full_trajectory</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">x_start</span><span class="o">=</span><span class="n">wps</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">y_start</span><span class="o">=</span><span class="n">wps</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">x_end</span><span class="o">=</span><span class="n">wps</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">y_end</span><span class="o">=</span><span class="n">wps</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">theta_start</span> <span class="o">=</span> <span class="n">theta0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">theta_start</span> <span class="o">=</span> <span class="n">theta_end_anterior</span>
    <span class="n">theta_end</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">y_end</span> <span class="o">-</span> <span class="n">y_start</span><span class="p">,</span> <span class="n">x_end</span> <span class="o">-</span> <span class="n">x_start</span><span class="p">)</span>
    <span class="n">segment_trajectory</span> <span class="o">=</span> <span class="n">move_robot</span><span class="p">(</span><span class="n">t_start</span><span class="p">,</span> <span class="n">x_start</span><span class="p">,</span> <span class="n">y_start</span><span class="p">,</span> <span class="n">theta_start</span><span class="p">,</span> <span class="n">x_end</span><span class="p">,</span> <span class="n">y_end</span><span class="p">,</span> <span class="n">theta_end</span><span class="p">)</span>
    <span class="n">full_trajectory</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">segment_trajectory</span><span class="p">)</span>
    <span class="n">theta_end_anterior</span><span class="o">=</span><span class="n">theta_end</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configuração da figura e dos subplots</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">t</span> <span class="o">=</span>  <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">full_trajectory</span><span class="p">]</span>  <span class="c1"># Eixo do tempo</span>
<span class="n">v</span> <span class="o">=</span>  <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">full_trajectory</span><span class="p">]</span>  <span class="c1">#velocidade linear</span>
<span class="n">w</span> <span class="o">=</span>  <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">full_trajectory</span><span class="p">]</span>  <span class="c1">#velocidade angular</span>
<span class="n">x</span> <span class="o">=</span>  <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">full_trajectory</span><span class="p">]</span>  <span class="c1">#posicao x</span>
<span class="n">y</span><span class="o">=</span>  <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">full_trajectory</span><span class="p">]</span>  <span class="c1">#posicao y</span>
<span class="n">theta</span> <span class="o">=</span>  <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">full_trajectory</span><span class="p">]</span>  <span class="c1">#orientacao teta</span>

<span class="c1"># Subplot 1:</span>
<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># 2 linhas, 2 colunas, posição 1</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Velocidade linear e angular&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;v (cm/s), $\omega$(rad/s)&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\omega$&#39;</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Subplot 2:</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>  <span class="c1"># 2 linhas, 2 colunas, posição 3</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Posição e orientação&quot;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Tempo (s)&quot;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;x (cm), y (cm), $\Theta$ (rad)&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\Theta$&#39;</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Subplot 3:</span>
<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 1 linha, 2 colunas, posição 2</span>
<span class="c1">#for i in range(len(wps)):</span>
<span class="c1">#    plt.scatter(wps[i][0], wps[i][1])</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">wps</span><span class="p">)</span>
<span class="c1">#plt.scatter(x, y)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Start Point&quot;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Waypoints trajectory&quot;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Posição x (cm)&quot;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Posição y (cm)&quot;</span><span class="p">)</span>
<span class="c1">#ax3.legend([&#39;WP1&#39;,&#39;WP2&#39;,&#39;WP3&#39;,&#39;WP4&#39;,&#39;WP5&#39;,&#39;WP6=WP1&#39;,&#39;Trajectory&#39;])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Ajustar espaçamento entre os subplots</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/project2_driveZumo-vs4_copy_27_0.png" src="../_images/project2_driveZumo-vs4_copy_27_0.png" />
</div>
</div>
</section>
<section id="Planeamento-PWM---gerar-séries-temporais-de-PWM-para-Zumo">
<h1>Planeamento PWM - gerar séries temporais de PWM para Zumo<a class="headerlink" href="#Planeamento-PWM---gerar-séries-temporais-de-PWM-para-Zumo" title="Link to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pwm_right</span><span class="o">=</span><span class="p">[]</span>
<span class="n">pwm_left</span><span class="o">=</span><span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)):</span>
    <span class="n">pwm_right</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pwm_max</span><span class="o">*</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">vmax</span><span class="o">+</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">wmax</span><span class="o">*</span><span class="n">d</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">pwm_left</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pwm_max</span><span class="o">*</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">vmax</span><span class="o">-</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">wmax</span><span class="o">*</span><span class="n">d</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="n">pwm_right</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">pwm_left</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">dt</span><span class="p">);</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">pwm_right</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
<span class="c1">#ax1.set_title(&quot;PWM&quot;)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;PWM RIGHT&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;right&#39;</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Subplot 2:</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="n">ax1</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">pwm_left</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;PWM LEFT&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;left&#39;</span><span class="p">])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/project2_driveZumo-vs4_copy_29_0.png" src="../_images/project2_driveZumo-vs4_copy_29_0.png" />
</div>
</div>
</section>
<section id="Store-simulated-pwm-values-to-be-used-as-arduino-array">
<h1>Store simulated pwm values to be used as arduino array<a class="headerlink" href="#Store-simulated-pwm-values-to-be-used-as-arduino-array" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;pwmRL.h&quot;</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;const int n =&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">)))</span><span class="o">+</span><span class="s1">&#39;; // number points</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;const int dt =&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="n">dt</span><span class="p">))</span><span class="o">+</span><span class="s1">&#39;; // ms update time</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;int pwm_right[]={&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">pwm_right</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="o">+</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;};</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;int pwm_left[]={&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">pwm_left</span><span class="p">:</span>
        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">))</span><span class="o">+</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;};</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Read and show file content (has to be created before):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">file = open(filename, &quot;r&quot;)</span>
<span class="sd">content = file.read()</span>
<span class="sd">print(content)</span>
<span class="sd">file.close()</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;\nfile = open(filename, &#34;r&#34;)\ncontent = file.read()\nprint(content)\nfile.close()\n&#39;
</pre></div></div>
</div>
<p>Copiar o texto para o código arduino, ou melhor ainda, colocar o ficheiro <code class="docutils literal notranslate"><span class="pre">pwmRL.h</span></code> para a correta pasta do código arduino.</p>
<p>Arduino reference code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;pwmRL.h&quot;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Wire.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Zumo32U4.h&gt;</span>

<span class="n">Zumo32U4Motors</span><span class="w"> </span><span class="n">motors</span><span class="p">;</span>
<span class="n">Zumo32U4ButtonA</span><span class="w"> </span><span class="n">buttonA</span><span class="p">;</span>

<span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">t0</span><span class="o">=</span><span class="n">millis</span><span class="p">();</span>
<span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">buttonA</span><span class="p">.</span><span class="n">waitForButton</span><span class="p">();</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">millis</span><span class="p">()</span><span class="o">-</span><span class="n">t0</span><span class="o">&gt;</span><span class="n">dt</span><span class="p">){</span>
<span class="w">  </span><span class="n">motors</span><span class="p">.</span><span class="n">setLeftSpeed</span><span class="p">(</span><span class="n">pwm_left</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">  </span><span class="n">motors</span><span class="p">.</span><span class="n">setRightSpeed</span><span class="p">(</span><span class="n">pwm_right</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">  </span><span class="n">t0</span><span class="o">=</span><span class="n">millis</span><span class="p">();</span>
<span class="w">  </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.patches</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpatches</span><span class="c1">## Animação</span>

<span class="c1"># Set up our figure for drawing our pendulum</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="c1">#for i in range(len(wps)):</span>
<span class="c1">#    plt.scatter(wps[i][0], wps[i][1])</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">wps</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="c1">#plt.scatter(x[0], y[0], color=&quot;red&quot;, label=&quot;Start Point&quot;, zorder=5)</span>
<span class="n">p</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([],[],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;cornflowerblue&#39;</span><span class="p">);</span> <span class="c1"># initializes an empty plot</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>  <span class="c1"># X lim</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>  <span class="c1"># Y lim</span>
<span class="c1">#ax.set_title(&quot;zumo drive&quot;)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Posição x (cm)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Posição y (cm)&quot;</span><span class="p">)</span>
<span class="c1">#ax.legend([&#39;WP1&#39;,&#39;WP2&#39;,&#39;WP3&#39;,&#39;WP4&#39;,&#39;WP5&#39;,&#39;WP6=WP1&#39;,&#39;Trajectory&#39;])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;equal&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1">#ax.plot(x, y, &#39;--&#39;,color=&#39;black&#39;)</span>
<span class="n">arrow</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">arrow</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.patches.Arrow at 0x2b24fef6870&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/project2_driveZumo-vs4_copy_37_1.png" src="../_images/project2_driveZumo-vs4_copy_37_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">video_title</span> <span class="o">=</span> <span class="s2">&quot;zumodrive&quot;</span>
<span class="c1">#FPS = 20  #from simulation dt</span>
<span class="n">sample_rate</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">dt</span><span class="p">)</span>
<span class="n">dpi</span> <span class="o">=</span> <span class="mi">300</span> <span class="c1"># quality of the video</span>
<span class="n">writerObj</span> <span class="o">=</span> <span class="n">FFMpegWriter</span><span class="p">(</span><span class="n">fps</span><span class="o">=</span><span class="n">sample_rate</span><span class="p">)</span>

<span class="k">with</span> <span class="n">writerObj</span><span class="o">.</span><span class="n">saving</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">video_title</span><span class="o">+</span><span class="s2">&quot;.mp4&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.8</span><span class="o">*</span><span class="n">sample_rate</span><span class="p">)):</span>
        <span class="n">arrow</span> <span class="o">=</span> <span class="n">mpatches</span><span class="o">.</span><span class="n">Arrow</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">arrow</span><span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="n">writerObj</span><span class="o">.</span><span class="n">grab_frame</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">IndexError</span>                                Traceback (most recent call last)
Cell <span class="ansi-green-intense-fg ansi-bold">In[39], line 9</span>
<span class="ansi-green-fg">      7</span> <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> writerObj<span style="color: rgb(98,98,98)">.</span>saving(fig, video_title<span style="color: rgb(98,98,98)">+</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">.mp4</span><span style="color: rgb(175,0,0)">&#34;</span>, dpi):
<span class="ansi-green-fg">      8</span>   <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> i <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> <span style="color: rgb(0,135,0)">range</span>(<span style="color: rgb(98,98,98)">0</span>, <span style="color: rgb(0,135,0)">len</span>(t), <span style="color: rgb(0,135,0)">int</span>(<span style="color: rgb(98,98,98)">0.8</span><span style="color: rgb(98,98,98)">*</span>sample_rate)):
<span class="ansi-green-intense-fg ansi-bold">----&gt; 9</span>         arrow <span style="color: rgb(98,98,98)">=</span> mpatches<span style="color: rgb(98,98,98)">.</span>Arrow(x[i], y[i], np<span style="color: rgb(98,98,98)">.</span>cos(theta[i]), np<span style="color: rgb(98,98,98)">.</span>sin(theta[i]))
<span class="ansi-green-fg">     10</span>         ax<span style="color: rgb(98,98,98)">.</span>add_patch(arrow)
<span class="ansi-green-fg">     11</span>         fig<span style="color: rgb(98,98,98)">.</span>canvas<span style="color: rgb(98,98,98)">.</span>draw()

<span class="ansi-red-intense-fg ansi-bold">IndexError</span>: tuple index out of range
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">Video</span>
<span class="n">Video</span><span class="p">(</span><span class="s2">&quot;zumodrive.mp4&quot;</span><span class="p">,</span> <span class="n">embed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">640</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">480</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><img alt="image.png" src="data:image/png;base64,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" /></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#### Simulation parameters</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mf">0.01</span>  <span class="c1"># Time step (s)</span>
<span class="n">total_time</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># Total simulation time (s)</span>
<span class="n">time_steps</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_time</span> <span class="o">/</span> <span class="n">dt</span><span class="p">)</span>

<span class="c1"># Robot parameters</span>
<span class="n">pwm_max</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># Maximum PWM value</span>
<span class="n">pwm_min</span> <span class="o">=</span> <span class="o">-</span><span class="mi">200</span>  <span class="c1"># Minimum PWM value</span>
<span class="n">wheel_radius</span> <span class="o">=</span> <span class="mf">2.0</span>  <span class="c1"># Wheel radius (cm)</span>
<span class="n">wheel_distance</span> <span class="o">=</span> <span class="mf">8.5</span>  <span class="c1"># Distance between wheels (cm)</span>

<span class="c1"># PID controller parameters</span>
<span class="n">Kp</span> <span class="o">=</span> <span class="mi">40</span>
<span class="n">Ki</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">Kd</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Define the setpoint planner</span>
<span class="k">def</span><span class="w"> </span><span class="nf">setpoint_planner</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">t</span><span class="o">/</span><span class="mi">2</span>  <span class="c1"># cm/s</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="n">t</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>  <span class="c1"># cm/s</span>

<span class="c1"># Define the PID controller</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pid_controller</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">integral</span><span class="p">,</span> <span class="n">derivative</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;PID controller implementation.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Kp</span> <span class="o">*</span> <span class="n">error</span> <span class="o">+</span> <span class="n">Ki</span> <span class="o">*</span> <span class="n">integral</span> <span class="o">+</span> <span class="n">Kd</span> <span class="o">*</span> <span class="n">derivative</span>

<span class="c1"># Define the plant (zumo motors and robot)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">plant</span><span class="p">(</span><span class="n">pwm_left</span><span class="p">,</span> <span class="n">pwm_right</span><span class="p">,</span> <span class="n">wheel_radius</span><span class="p">,</span> <span class="n">wheel_distance</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simulates the dynamics of a differential-drive robot.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    - pwm_left (int): pwm value left motor</span>
<span class="sd">    - pwm_right (int): pwm value right motor</span>
<span class="sd">    - wheel_radius (float): Radius of the wheels (cm)</span>
<span class="sd">    - wheel_distance (float): Distance between the two wheels (cm)</span>
<span class="sd">    - dt (float): Time step (s)</span>
<span class="sd">    - state (dict): Current state of the robot containing:</span>
<span class="sd">        - x (float): X-coordinate (cm)</span>
<span class="sd">        - y (float): Y-coordinate (cm)</span>
<span class="sd">        - theta (float): Orientation (rad)</span>
<span class="sd">        - v (float): Linear velocity (cm/s)</span>
<span class="sd">        - w (float): Angular velocity (rad/s)</span>

<span class="sd">    Returns:</span>
<span class="sd">    - state (dict): Updated state of the robot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Compute (from calibration) left and right wheel velocities</span>
    <span class="n">v_left</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">pwm_left</span><span class="o">/</span><span class="n">pwm_max</span><span class="c1"># Velocity of the left wheel (cm/s)</span>
    <span class="n">v_right</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">pwm_right</span><span class="o">/</span><span class="n">pwm_max</span><span class="c1">#Velocity of the right wheel (cm/s)</span>

    <span class="c1"># Compute linear and angular velocities</span>
    <span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">v_left</span> <span class="o">+</span> <span class="n">v_right</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>  <span class="c1"># Linear velocity (cm/s)</span>
    <span class="n">w</span> <span class="o">=</span> <span class="p">(</span><span class="n">v_right</span> <span class="o">-</span> <span class="n">v_left</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">wheel_distance</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Angular velocity (rad/s)</span>

    <span class="c1"># Update state (x, y, theta)</span>
    <span class="n">state</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="n">state</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">v</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="n">state</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">dt</span>

    <span class="c1"># Normalize theta to the range [-pi, pi]</span>
    <span class="n">state</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;theta&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>

    <span class="c1"># Update linear and angular velocities</span>
    <span class="n">state</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
    <span class="n">state</span><span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span>

    <span class="k">return</span> <span class="n">state</span>

<span class="c1"># Define the measurement</span>
<span class="k">def</span><span class="w"> </span><span class="nf">measurement</span><span class="p">(</span><span class="n">current_velocity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Simulate encoder measurement with noise.&quot;&quot;&quot;</span>
    <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># Simulate encoder noise</span>
    <span class="k">return</span> <span class="n">current_velocity</span> <span class="o">+</span> <span class="n">noise</span>

<span class="c1"># Initialize variables</span>
<span class="n">time_log</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">measurement_log</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">setpoint_log</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">control_log</span><span class="o">=</span><span class="p">[]</span>
<span class="n">error_log</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Initial state</span>
<span class="n">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>        <span class="c1"># X position (cm)</span>
    <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>        <span class="c1"># Y position (cm)</span>
    <span class="s1">&#39;theta&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>    <span class="c1"># Orientation (rad)</span>
    <span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>        <span class="c1"># Linear velocity (cm/s)</span>
    <span class="s1">&#39;w&#39;</span><span class="p">:</span> <span class="mf">0.0</span>     <span class="c1"># Angular velocity (rad/s)</span>
<span class="p">}</span>

<span class="c1"># Initial PID controller</span>
<span class="n">integral</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">previous_error</span> <span class="o">=</span> <span class="mf">0.0</span>

<span class="c1"># Simulation loop</span>
<span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">time_steps</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">step</span> <span class="o">*</span> <span class="n">dt</span>

    <span class="c1"># Setpoint planner</span>
    <span class="n">setpoint</span> <span class="o">=</span> <span class="n">setpoint_planner</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

    <span class="c1"># Measurement</span>
    <span class="n">measured_value</span> <span class="o">=</span> <span class="n">measurement</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">])</span>

    <span class="c1"># Error calculation</span>
    <span class="n">error</span> <span class="o">=</span> <span class="n">setpoint</span> <span class="o">-</span> <span class="n">measured_value</span>
    <span class="n">integral</span> <span class="o">+=</span> <span class="n">error</span> <span class="o">*</span> <span class="n">dt</span>
    <span class="n">derivative</span> <span class="o">=</span> <span class="p">(</span><span class="n">error</span> <span class="o">-</span> <span class="n">previous_error</span><span class="p">)</span> <span class="o">/</span> <span class="n">dt</span>

    <span class="c1"># PID controller</span>
    <span class="n">control_signal</span> <span class="o">=</span> <span class="n">pid_controller</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">integral</span><span class="p">,</span> <span class="n">derivative</span><span class="p">)</span>
    <span class="c1"># Control limits</span>
    <span class="k">if</span><span class="p">(</span><span class="n">control_signal</span><span class="o">&gt;</span><span class="n">pwm_max</span><span class="p">):</span><span class="n">control_signal</span><span class="o">=</span><span class="n">pwm_max</span>
    <span class="k">if</span><span class="p">(</span><span class="n">control_signal</span><span class="o">&lt;</span><span class="n">pwm_min</span><span class="p">):</span><span class="n">control_signal</span><span class="o">=</span><span class="n">pwm_min</span>

    <span class="c1"># Plant</span>
    <span class="n">pwm_left</span><span class="o">=</span><span class="n">control_signal</span>
    <span class="n">pwm_right</span><span class="o">=</span><span class="n">control_signal</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">plant</span><span class="p">(</span><span class="n">pwm_left</span><span class="p">,</span> <span class="n">pwm_right</span><span class="p">,</span> <span class="n">wheel_radius</span><span class="p">,</span> <span class="n">wheel_distance</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>


    <span class="c1"># Log data</span>
    <span class="n">time_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">measurement_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">measured_value</span><span class="p">)</span>
    <span class="n">setpoint_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">setpoint</span><span class="p">)</span>
    <span class="n">control_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">control_signal</span><span class="p">)</span>
    <span class="n">error_log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

    <span class="c1"># Update previous error</span>
    <span class="n">previous_error</span> <span class="o">=</span> <span class="n">error</span>

    <span class="c1"># Simulate real-time execution</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

<span class="c1"># Plot results</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Velocity plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time_log</span><span class="p">,</span> <span class="n">measurement_log</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Measured&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time_log</span><span class="p">,</span> <span class="n">setpoint_log</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Setpoint&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>
<span class="c1">#plt.title(&quot;Robot Linear Velocity Control&quot;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Velocity (cm/s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Error plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time_log</span><span class="p">,</span> <span class="n">error_log</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Error (cm/s)&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="c1">#plt.title(&quot;Error&quot;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Error (cm/s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Control plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time_log</span><span class="p">,</span> <span class="n">control_log</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="c1">#plt.title(&quot;Control&quot;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time (s)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Control (PWM)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd"># Example usage of plant model (see below)</span>
<span class="sd">if __name__ == &quot;__main__&quot;:</span>
<span class="sd">    # Parameters</span>
<span class="sd">    wheel_radius = 5.0  # Wheel radius (cm)</span>
<span class="sd">    wheel_distance = 20.0  # Distance between wheels (cm)</span>
<span class="sd">    dt = 0.1  # Time step (s)</span>
<span class="sd">    total_time = 20  # Total simulation time (s)</span>
<span class="sd">    time_steps = int(total_time / dt)</span>

<span class="sd">    # Initial state</span>
<span class="sd">    state = {</span>
<span class="sd">        &#39;x&#39;: 0.0,        # X position (cm)</span>
<span class="sd">        &#39;y&#39;: 0.0,        # Y position (cm)</span>
<span class="sd">        &#39;theta&#39;: 0.0,    # Orientation (rad)</span>
<span class="sd">        &#39;v&#39;: 0.0,        # Linear velocity (cm/s)</span>
<span class="sd">        &#39;omega&#39;: 0.0     # Angular velocity (rad/s)</span>
<span class="sd">    }</span>


<span class="sd">    # Generate figure-eight trajectory by varying wheel velocities</span>
<span class="sd">    trajectory_x = []</span>
<span class="sd">    trajectory_y = []</span>

<span class="sd">    for step in range(time_steps):</span>
<span class="sd">        t = step * dt</span>

<span class="sd">        # Define wheel velocities</span>
<span class="sd">        v_left = 50.0 * np.sin(2 * np.pi  * t / 5)  # Left wheel velocity (cm/s)</span>
<span class="sd">        v_right = 50.0 * np.sin(2 * np.pi * t / 5)  # Right wheel velocity (cm/s)</span>

<span class="sd">        # Update state using differential-drive dynamics</span>
<span class="sd">        state = differential_drive_dynamics(v_left, v_right, wheel_radius, wheel_distance, dt, state)</span>

<span class="sd">        # Store trajectory</span>
<span class="sd">        trajectory_x.append(state[&#39;x&#39;])</span>
<span class="sd">        trajectory_y.append(state[&#39;y&#39;])</span>

<span class="sd">    # Plot trajectory</span>
<span class="sd">    plt.figure(figsize=(8, 8))</span>
<span class="sd">    plt.plot(trajectory_x, trajectory_y, label=&quot;Robot Trajectory&quot;)</span>
<span class="sd">    plt.scatter(trajectory_x[0], trajectory_y[0], color=&quot;red&quot;, label=&quot;Start&quot;, zorder=5)</span>
<span class="sd">    plt.title(&quot;Figure-Eight Trajectory of Differential-Drive Robot&quot;)</span>
<span class="sd">    plt.xlabel(&quot;X Position (cm)&quot;)</span>
<span class="sd">    plt.ylabel(&quot;Y Position (cm)&quot;)</span>
<span class="sd">    plt.axis(&#39;equal&#39;)</span>
<span class="sd">    plt.legend()</span>
<span class="sd">    plt.grid()</span>
<span class="sd">    plt.show()</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, mniehus.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>